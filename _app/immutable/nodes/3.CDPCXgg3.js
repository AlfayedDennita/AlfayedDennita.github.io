import{d as et,e as Ie,i as He,a as _t,P as Mt}from"../chunks/BzjOrjly.js";import{p as Ae,r as Ee}from"../chunks/D8w4-LAs.js";import{o as At,a as jt}from"../chunks/0HucsUqS.js";import{a7 as Pt,J as Bt,bu as Ut,bv as Ft,e as Gt,h as Et,bw as Ht,U as wt,bx as Xt,q as Kt,n as De,p as Ne,P as B,a8 as ie,b as M,a as $e,d as N,u as Q,W as ee,Z as z,Q as G,af as F,ag as ne,R as P,bp as Wt,i as tt,$ as Re,c as Le,f as ve,s as Me,aZ as je,by as Vt,g as pt,D as Yt}from"../chunks/czoAADfY.js";import{b as _e}from"../chunks/CJDbiaPr.js";import{a as at,b as qt,s as zt}from"../chunks/BGDu1ZGy.js";import{d as Fe,a as ue,C as Ve,b as Te,s as Oe,f as Ye,S as Pe,c as Xe,e as mt}from"../chunks/C9t8t449.js";import{b as Ke}from"../chunks/CahNITOd.js";import{B as ke,e as We}from"../chunks/CqOQjK0D.js";import{c as Jt,a as Se}from"../chunks/CV-TeUZY.js";import{i as se}from"../chunks/B9IpeQwZ.js";import{k as Zt}from"../chunks/BrCbWG1y.js";import{E as rt,P as gt,a as vt}from"../chunks/B9QQutKY.js";const Qt=()=>performance.now(),ge={tick:x=>requestAnimationFrame(x),now:()=>Qt(),tasks:new Set};function Ot(){const x=ge.now();ge.tasks.forEach(S=>{S.c(x)||(ge.tasks.delete(S),S.f())}),ge.tasks.size!==0&&ge.tick(Ot)}function er(x){let S;return ge.tasks.size===0&&ge.tick(Ot),{promise:new Promise(C=>{ge.tasks.add(S={c:x,f:C})}),abort(){ge.tasks.delete(S)}}}function Ge(x,S){wt(()=>{x.dispatchEvent(new CustomEvent(S))})}function tr(x){if(x==="float")return"cssFloat";if(x==="offset")return"cssOffset";if(x.startsWith("--"))return x;const S=x.split("-");return S.length===1?S[0]:S[0]+S.slice(1).map(C=>C[0].toUpperCase()+C.slice(1)).join("")}function yt(x){const S={},C=x.split(";");for(const L of C){const[T,w]=L.split(":");if(!T||w===void 0)break;const b=tr(T.trim());S[b]=w.trim()}return S}const rr=x=>x;function xe(x,S,C,L){var T=(x&Ht)!==0,w="both",b,m=S.inert,l=S.style.overflow,g,y;function p(){return wt(()=>b??=C()(S,L?.()??{},{direction:w}))}var s={is_global:T,in(){S.inert=m,Ge(S,"introstart"),g=st(S,p(),y,1,()=>{Ge(S,"introend"),g?.abort(),g=b=void 0,S.style.overflow=l})},out(e){S.inert=!0,Ge(S,"outrostart"),y=st(S,p(),g,0,()=>{Ge(S,"outroend"),e?.()})},stop:()=>{g?.abort(),y?.abort()}},a=Pt;if((a.transitions??=[]).push(s),Jt){var n=T;if(!n){for(var t=a.parent;t&&(t.f&Bt)!==0;)for(;(t=t.parent)&&(t.f&Ut)===0;);n=!t||(t.f&Ft)!==0}n&&Gt(()=>{Et(()=>s.in())})}}function st(x,S,C,L,T){var w=L===1;if(Xt(S)){var b,m=!1;return Kt(()=>{if(!m){var e=S({direction:w?"in":"out"});b=st(x,e,C,L,T)}}),{abort:()=>{m=!0,b?.abort()},deactivate:()=>b.deactivate(),reset:()=>b.reset(),t:()=>b.t()}}if(C?.deactivate(),!S?.duration)return T(),{abort:De,deactivate:De,reset:De,t:()=>L};const{delay:l=0,css:g,tick:y,easing:p=rr}=S;var s=[];if(w&&C===void 0&&(y&&y(0,1),g)){var a=yt(g(0,1));s.push(a,a)}var n=()=>1-L,t=x.animate(s,{duration:l,fill:"forwards"});return t.onfinish=()=>{t.cancel();var e=C?.t()??1-L;C?.abort();var o=L-e,r=S.duration*Math.abs(o),i=[];if(r>0){var c=!1;if(g)for(var f=Math.ceil(r/16.666666666666668),d=0;d<=f;d+=1){var _=e+o*p(d/f),A=yt(g(_,1-_));i.push(A),c||=A.overflow==="hidden"}c&&(x.style.overflow="hidden"),n=()=>{var u=t.currentTime;return e+o*p(u/r)},y&&er(()=>{if(t.playState!=="running")return!1;var u=n();return y(u,1-u),!0})}t=x.animate(i,{duration:r,fill:"forwards"}),t.onfinish=()=>{n=()=>L,y?.(L,1-L),T()}},{abort:()=>{t&&(t.cancel(),t.effect=null,t.onfinish=De)},deactivate:()=>{T=De},reset:()=>{L===0&&y?.(1,0)},t:()=>n()}}async function sr({fetch:x}){return{projects:et.projects.getAll(x,6),arts:et.arts.getAll(x,6)}}const Es=Object.freeze(Object.defineProperty({__proto__:null,load:sr},Symbol.toStringTag,{value:"Module"}));var nr=B('Start Exploring <i class="hn hn-arrow-down-solid welcome-box__cta-icon svelte-kp13xr"></i>',1),ar=B('<section class="jumbotron svelte-kp13xr" aria-labelledby="jumbotron-title"><div class="welcome-box jumbotron__welcome-box svelte-kp13xr"><div class="welcome-box__logo svelte-kp13xr"><img class="welcome-box__logo-image svelte-kp13xr" src="/images/fayden-logo.svg" alt="Fayden Logo"/></div> <div class="welcome-box__greeting svelte-kp13xr"><h2 class="welcome-box__title svelte-kp13xr" id="jumbotron-title"><span class="welcome-box__title-welcome svelte-kp13xr">Welcome to</span> <span class="welcome-box__title-fayden-world svelte-kp13xr"><span class="welcome-box__title-fayden svelte-kp13xr">Fayden</span> <span class="welcome-box__title-world svelte-kp13xr">World</span></span></h2> <p class="welcome-box__subtitle">A place where a <i class="hn hn-sun-solid welcome-box__subtitle-icon svelte-kp13xr" aria-label="sun"></i> wanderer belongs.</p></div> <!></div> <div class="jumbotron__cloud-top svelte-kp13xr" aria-hidden="true"></div> <div class="jumbotron__bird-bottom svelte-kp13xr" aria-hidden="true"></div> <div class="jumbotron__cloud-bottom svelte-kp13xr" aria-hidden="true"></div></section>');function ir(x,S){Ne(S,!0);const C=Ae(S,"headerOffsetHeight",3,0);let L=ee(void 0),T=ee(void 0),w=ee(void 0);const b=Q(()=>`${N(T)/5}s`),m=Q(()=>`${N(T)/40}s`),l=Q(()=>`${N(T)/50}s`);function g(){return N(L)}var y={getOffsetHeight:g},p=ar();let s;var a=G(p),n=F(G(a),4);ke(n,{class:"welcome-box__cta",href:"/#about",theme:"secondary",title:"Start Exploring",children:(f,d)=>{ne();var _=nr();ne(),M(f,_)},$$slots:{default:!0}}),P(a);var t=F(a,2);let e;var o=F(t,2);let r;var i=F(o,2);let c;return P(p),ie((f,d,_,A)=>{s=Fe(p,"",s,f),e=Fe(t,"",e,d),r=Fe(o,"",r,_),c=Fe(i,"",c,A)},[()=>({"--header-offset-height":`${C()}px`,"min-height":`${N(w)}px`,"animation-duration":N(m)}),()=>({"animation-duration":N(b),"--to-background-position-x":`${576*N(L)/324}px, ${576*N(L)/324*-1}px`}),()=>({"animation-duration":N(l)}),()=>({"animation-duration":N(b),"--to-background-position-x":`${576*N(L)/324*-1}px`})]),at("innerWidth",f=>z(T,f,!0)),Ke(a,"offsetHeight",f=>z(w,f)),Ke(p,"offsetHeight",f=>z(L,f)),M(x,p),$e(y)}function or(x){const S=x-1;return S*S*S+1}function Ce(x,{delay:S=0,duration:C=400,easing:L=or,axis:T="y"}={}){const w=getComputedStyle(x),b=+w.opacity,m=T==="y"?"height":"width",l=parseFloat(w[m]),g=T==="y"?["top","bottom"]:["left","right"],y=g.map(o=>`${o[0].toUpperCase()}${o.slice(1)}`),p=parseFloat(w[`padding${y[0]}`]),s=parseFloat(w[`padding${y[1]}`]),a=parseFloat(w[`margin${y[0]}`]),n=parseFloat(w[`margin${y[1]}`]),t=parseFloat(w[`border${y[0]}Width`]),e=parseFloat(w[`border${y[1]}Width`]);return{delay:S,duration:C,easing:L,css:o=>`overflow: hidden;opacity: ${Math.min(o*20,1)*b};${m}: ${o*l}px;padding-${g[0]}: ${o*p}px;padding-${g[1]}: ${o*s}px;margin-${g[0]}: ${o*a}px;margin-${g[1]}: ${o*n}px;border-${g[0]}-width: ${o*t}px;border-${g[1]}-width: ${o*e}px;min-${m}: 0`}}var lr=(x,S)=>z(S,!N(S)),cr=B('<span class="toggle__text-section-inner svelte-1ob9sn1"> </span>'),ur=B('<button class="toggle navbar__toggle svelte-1ob9sn1" aria-controls="navbar-list"><span class="toggle__text svelte-1ob9sn1">Section: <span class="toggle__text-section svelte-1ob9sn1"><!></span></span> <i class="hn hn-chevron-down-solid toggle__chevron svelte-1ob9sn1"></i></button>'),fr=(x,S)=>z(S,!N(S)),dr=B('<li class="links__item svelte-1ob9sn1"><a> </a></li>'),hr=B('<ul class="links svelte-1ob9sn1" id="navbar-list"></ul>'),pr=B('<nav><div class="navbar__inner svelte-1ob9sn1"><!> <!></div></nav>');function mr(x,S){Ne(S,!0);const C=Ae(S,"linkedSections",19,()=>[]),L=Ee(S,["$$slots","$$events","$$legacy","class","linkedSections"]);let T=ee(void 0),w=ee(void 0),b=ee(void 0),m=ee(!1);tt(()=>{N(T),Et(()=>{for(let o of C())o.updateOffsetTop?.()})}),tt(()=>{N(b)>=576&&z(m,!1)});const l=Q(()=>{for(let o=C().length-1;o>=0;o--)if(N(w)>=C()[o].offsetTop-N(T))return o;return 0});function g(){return N(T)}var y={getOffsetHeight:g},p=pr();ue(p,o=>({class:["navbar",S.class],...L,[Ve]:o}),[()=>({"navbar--open":N(m)})],void 0,"svelte-1ob9sn1");var s=G(p),a=G(s);{var n=o=>{var r=ur();r.__click=[lr,m];var i=G(r),c=F(G(i)),f=G(c);Zt(f,()=>N(l),d=>{var _=cr(),A=G(_);P(_),ie(()=>Se(A,`#${C()[N(l)]?.name??""}`)),xe(3,_,()=>Ce),M(d,_)}),P(c),P(i),ne(2),P(r),ie(()=>{Te(r,"aria-expanded",N(m)),Te(r,"title",N(m)?"Close Navigation Links":"Open Navigation Links")}),M(o,r)};se(a,o=>{N(b)<576&&o(n)})}var t=F(a,2);{var e=o=>{var r=hr();Ie(r,23,C,i=>i.name,(i,c)=>{var f=dr(),d=G(f);let _;d.__click=[fr,m];var A=G(d,!0);P(d),P(f),ie(u=>{_=Oe(d,1,"links__link svelte-1ob9sn1",null,_,u),Te(d,"href",N(c).url),Te(d,"title",N(c).name),Se(A,N(c).name)},[()=>({"links__link--active":C()[N(l)].url===N(c).url})]),M(i,f)}),P(r),xe(3,r,()=>Ce),M(o,r)};se(t,o=>{(N(b)>=576||N(m))&&o(e)})}return P(s),P(p),qt("y",()=>N(w),o=>z(w,o,!0)),at("innerWidth",o=>z(b,o,!0)),Ke(p,"offsetHeight",o=>z(T,o)),M(x,p),$e(y)}Wt(["click"]);function qe(x=()=>{},S=()=>{}){let C;return L=>{function T(){clearTimeout(C),C=setTimeout(()=>x(L.offsetTop),100)}return T(),S(T),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}}}var gr=B(`<section><div class="about__inner svelte-14wnqum"><h2 class="title about__title svelte-14wnqum" id="about-title">Meet the <i class="hn hn-sun-solid title__icon svelte-14wnqum" aria-label="Sun"></i> Wanderer</h2> <div class="message about__message svelte-14wnqum"><p>Hello, visitor! I'm <span class="message__blue svelte-14wnqum">Fay</span><span class="message__yellow svelte-14wnqum">den</span> (<span class="message__blue svelte-14wnqum">Alfayed</span> <span class="message__yellow svelte-14wnqum">Dennita</span>). I love exploring the
        digital world, especially software development and art. I mostly work
        with code, but sometimes I play with canvas to sharpen my creative mind.
        You can browse through some amazing things that I've found and created
        on this page. Enjoy! Thanks for visiting.</p> <p class="message__writer svelte-14wnqum">- <i>Fayden</i></p></div> <div class="avatar about__avatar svelte-14wnqum" aria-hidden="true"><div class="avatar__object svelte-14wnqum" aria-hidden="true"></div></div></div></section>`);function vr(x,S){Ne(S,!0);const C=Ae(S,"navbarOffsetHeight",3,0),L=Ee(S,["$$slots","$$events","$$legacy","class","navbarOffsetHeight"]);let T=Re({value:void 0,update:()=>{}});function w(){return T.value}function b(){return T.update}var m={getOffsetTop:w,getUpdateOffsetTop:b},l=gr();return ue(l,g=>({class:["about",S.class],id:"about","aria-labelledby":"about-title",...L,[Pe]:g}),[()=>({"--navbar-offset-height":`${C()}px`})],void 0,"svelte-14wnqum"),Ye(l,()=>qe(g=>T.value=g,g=>T.update=g)),M(x,l),$e(m)}var yr=B("<i></i>"),br=B('<span class="section-header__title-text-left svelte-ls99y2"><!></span>'),_r=B('<span class="section-header__title-text-center svelte-ls99y2"><!></span>'),Ar=B('<span class="section-header__title-text-right svelte-ls99y2"><!></span>'),Er=B("<!> <!> <!>",1),wr=B('<p class="section-header__subtitle svelte-ls99y2"> </p>'),Or=B('<div class="section-header__title svelte-ls99y2"><!> <!></div> <!>',1),Sr=B("<div></div>");function St(x,S){const C=Ae(S,"shadow",3,!1),L=Ee(S,["$$slots","$$events","$$legacy","class","sectionId","shadow","icon","subtitle","titleLeft","titleRight","children"]);var T=Sr();ue(T,()=>({class:["section-header",S.class],...L}),void 0,void 0,"svelte-ls99y2"),Ie(T,21,()=>({length:C()?2:1}),He,(w,b,m)=>{var l=Le(),g=ve(l);We(g,()=>m===0?"header":"div",!1,(y,p)=>{ue(y,i=>({class:"section-header__inner","aria-hidden":m===1,[Ve]:i}),[()=>({"section-header__inner--shadow":C()&&m===1,"section-header__inner--overlay":C()&&m===0})],void 0,"svelte-ls99y2");var s=Or(),a=ve(s),n=G(a);{var t=i=>{var c=yr();ie(()=>Oe(c,1,Xe(["hn",`hn-${S.icon}`,"section-header__title-icon"]),"svelte-ls99y2")),M(i,c)};se(n,i=>{S.icon&&i(t)})}var e=F(n,2);We(e,()=>m===0?"h2":"p",!1,(i,c)=>{ue(i,()=>({class:"section-header__title-text",id:m===0?`${S.sectionId}-title`:void 0}),void 0,void 0,"svelte-ls99y2");var f=Er(),d=ve(f);{var _=E=>{var R=br(),I=G(R);Me(I,()=>S.titleLeft),P(R),M(E,R)};se(d,E=>{S.titleLeft&&E(_)})}var A=F(d,2);{var u=E=>{var R=_r(),I=G(R);Me(I,()=>S.children),P(R),M(E,R)};se(A,E=>{S.children&&E(u)})}var h=F(A,2);{var v=E=>{var R=Ar(),I=G(R);Me(I,()=>S.titleRight),P(R),M(E,R)};se(h,E=>{S.titleRight&&E(v)})}M(c,f)}),P(a);var o=F(a,2);{var r=i=>{var c=wr(),f=G(c,!0);P(c),ie(()=>Se(f,S.subtitle)),M(i,c)};se(o,i=>{S.subtitle&&i(r)})}M(p,s)}),M(w,l)}),P(T),M(x,T)}var Rr=B('Explore More <i class="hn hn-arrow-right-solid"></i>',1),Ir=B('<section><div class="faydev__inner svelte-1gocfji"><!> <!> <!></div></section>');function Nr(x,S){Ne(S,!0);const C=Ae(S,"navbarOffsetHeight",3,0),L=Ee(S,["$$slots","$$events","$$legacy","class","projects","jumbotronOffsetHeight","navbarOffsetHeight"]);let T=ee(void 0),w=Re({value:void 0,update:()=>{}}),b=ee(Re([]));const m=Q(()=>`${N(T)/40}s`),l=Q(()=>`${N(T)/5}s`);tt(async()=>{z(b,await S.projects,!0)});function g(){return w.value}function y(){return w.update}var p={getOffsetTop:g,getUpdateOffsetTop:y},s=Ir();ue(s,o=>({class:["faydev",S.class],id:"projects","aria-labelledby":"projects-title",...L,[Pe]:o}),[()=>({"--jumbotron-offset-height":`${S.jumbotronOffsetHeight}px`,"--navbar-offset-height":`${C()}px`,"--cloud-animation-duration":N(l),"--to-background-position-x":`${576*S.jumbotronOffsetHeight/324*-1}px`,"animation-duration":N(m)})],void 0,"svelte-1gocfji");var a=G(s),n=G(a);St(n,{sectionId:"projects",shadow:!0,icon:"code-solid",subtitle:"Fayden's Software Development Workbench",titleLeft:i=>{ne();var c=je("fay");M(i,c)},titleRight:i=>{ne();var c=je("Dev");M(i,c)},$$slots:{titleLeft:!0,titleRight:!0}});var t=F(n,2);_t(t,()=>S.projects,o=>{gt(o,{class:"faydev__cards",children:(r,i)=>{var c=Le(),f=ve(c);Ie(f,16,()=>({length:6}),He,(d,_)=>{vt(d,{skeleton:!0})}),M(r,c)},$$slots:{default:!0}})},o=>{var r=Le(),i=ve(r);{var c=d=>{gt(d,{class:"faydev__cards",children:(_,A)=>{var u=Le(),h=ve(u);Ie(h,17,()=>N(b),v=>v.slug,(v,E)=>{vt(v,{get slug(){return N(E).slug},get title(){return N(E).title},get typeIcon(){return N(E).type.icon},get typeName(){return N(E).type.name},get isoCreatedAt(){return N(E).createdAt},get description(){return N(E).description},get image(){return N(E).images[0]}})}),M(_,u)},$$slots:{default:!0}})},f=d=>{rt(d,{class:"faydev__cards",message:"No projects to view."})};se(i,d=>{N(b)?d(c):d(f,!1)})}M(o,r)},o=>{rt(o,{class:"faydev__cards",message:"Failed to load projects."})});var e=F(t,2);return ke(e,{class:"faydev__cta",href:"/projects/",theme:"secondary",title:"Explore More",children:(o,r)=>{ne();var i=Rr();ne(),M(o,i)},$$slots:{default:!0}}),P(a),P(s),Ye(s,()=>qe(o=>w.value=o,o=>w.update=o)),at("innerWidth",o=>z(T,o,!0)),M(x,s),$e(p)}var $r=B('<img class="arts__art-image svelte-16t6e08"/> <div class="arts__art-message svelte-16t6e08"><i class="hn hn-external-link-solid arts__art-message-icon"></i> <p class="arts__art-message-text">See on DeviantArt</p></div>',1),Tr=B('<p class="arts__art-soon svelte-16t6e08">More soon...</p>'),xr=B('<li class="arts__art svelte-16t6e08"><!></li>'),Cr=B('<ul class="arts space__arts svelte-16t6e08"></ul>'),Lr=B('<li class="arts__art svelte-16t6e08"><div class="arts__art-object svelte-16t6e08"></div></li>'),kr=B('<ul class="arts space__arts svelte-16t6e08"></ul>'),Dr=B(`<i class="hn hn-retro-camera-solid"></i> Fayden's DeviantArt <i class="hn hn-external-link-solid"></i>`,1),Mr=B(`<i class="hn hn-instagram"></i> Fayden's Instagram <i class="hn hn-external-link-solid"></i>`,1),jr=B('<section><div class="space__inner svelte-16t6e08"><!> <!> <div class="space__ctas svelte-16t6e08"><!> <!></div></div></section>');function Pr(x,S){Ne(S,!0);const C=Ae(S,"navbarOffsetHeight",3,0),L=Ee(S,["$$slots","$$events","$$legacy","class","arts","navbarOffsetHeight"]);let T=Re({value:void 0,update:()=>{}});function w(){return T.value}function b(){return T.update}var m={getOffsetTop:w,getUpdateOffsetTop:b},l=jr();ue(l,t=>({class:["space",S.class],id:"arts","aria-labelledby":"arts-title",...L,[Pe]:t}),[()=>({"--navbar-offset-height":`${C()}px`})],void 0,"svelte-16t6e08");var g=G(l),y=G(g);St(y,{sectionId:"arts",icon:"pencil-ruler-solid",subtitle:"Fayden's Art Exhibition",titleLeft:o=>{ne();var r=je("fayden");M(o,r)},titleRight:o=>{ne();var r=je("space");M(o,r)},children:(o,r)=>{ne();var i=je(".");M(o,i)},$$slots:{titleLeft:!0,titleRight:!0,default:!0}});var p=F(y,2);_t(p,()=>S.arts,t=>{var e=kr();Ie(e,20,()=>({length:6}),He,(o,r)=>{var i=Lr();M(o,i)}),P(e),M(t,e)},(t,e)=>{var o=Cr();Ie(o,20,()=>({length:6}),He,(r,i,c)=>{var f=xr(),d=G(f);We(d,()=>N(e)[c]?"a":"div",!1,(_,A)=>{ue(_,R=>({class:"arts__art-object",href:N(e)[c]?.url,target:N(e)[c]?"_blank":void 0,rel:N(e)[c]?"external":void 0,title:N(e)[c]?.title,[Ve]:R}),[()=>({"arts__art-object--link":N(e)[c]})],void 0,"svelte-16t6e08");var u=Le(),h=ve(u);{var v=R=>{var I=$r(),k=ve(I);ne(2),ie(()=>{Te(k,"src",N(e)[c].thumbnailUrl),Te(k,"alt",N(e)[c].title)}),M(R,I)},E=R=>{var I=Tr();M(R,I)};se(h,R=>{N(e)[c]?R(v):R(E,!1)})}M(A,u)}),P(f),M(r,f)}),P(o),M(t,o)},t=>{rt(t,{message:"DeviantArt is currently not responding."})});var s=F(p,2),a=G(s);ke(a,{href:"https://www.deviantart.com/alfayeddennita/",theme:"primary",target:"_blank",rel:"external",title:"Visit Fayden's DeviantArt",children:(t,e)=>{var o=Dr();ne(2),M(t,o)},$$slots:{default:!0}});var n=F(a,2);return ke(n,{href:"https://www.instagram.com/fayden.space/",theme:"secondary",target:"_blank",rel:"external",title:"Visit Fayden's Instagram",children:(t,e)=>{var o=Mr();ne(2),M(t,o)},$$slots:{default:!0}}),P(s),P(g),P(l),Ye(l,()=>qe(t=>T.value=t,t=>T.update=t)),M(x,l),$e(m)}function Br(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var Je={exports:{}},bt;function Ur(){return bt||(bt=1,(function(x,S){(function(C,L){x.exports=L()})(self,()=>(()=>{var C={86:(w,b)=>{b.keys=function(m,l={}){return l.symbols!==!1?Reflect.ownKeys(m):Object.getOwnPropertyNames(m)}},125:()=>{},362:(w,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TLDS=void 0,b.TLDS=["AAA","AARP","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMAZON","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CASA","CASE","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CC","CD","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CPA","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ET","EU","EUROVISION","EUS","EVENTS","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTIER","FTR","FUJITSU","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","JAGUAR","JAVA","JCB","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIDS","KIM","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LAMBORGHINI","LAMER","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINK","LIVE","LIVING","LK","LLC","LLP","LOAN","LOANS","LOCKER","LOCUS","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUXE","LUXURY","LV","LY","MA","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUSIC","MV","MW","MX","MY","MZ","NA","NAB","NAGOYA","NAME","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","RACING","RADIO","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIL","RIO","RIP","RO","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPA","SPACE","SPORT","SPOT","SR","SRL","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWISS","SX","SY","SYDNEY","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","WALES","WALMART","WALTER","WANG","WANGGOU","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4DBRK0CE","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CCKWCXETD","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ480N2RG","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBCPQ6GPA1A","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PGBS0DH","XN--PSSY2U","XN--Q7CE6A","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"]},554:()=>{},679:(w,b)=>{const m={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};b.Parser=class{constructor(l,g={}){if(!g[m.settings]&&g.constants)for(const y in g.constants){const p=g.constants[y];if(p!==null&&!["boolean","number","string"].includes(typeof p))throw new Error(`Formula constant ${y} contains invalid ${typeof p} value type`)}this.settings=g[m.settings]?g:Object.assign({[m.settings]:!0,constants:{},functions:{}},g),this.single=null,this._parts=null,this._parse(l)}_parse(l){let g=[],y="",p=0,s=!1;const a=t=>{if(p)throw new Error("Formula missing closing parenthesis");const e=g.length?g[g.length-1]:null;if(s||y||t){if(e&&e.type==="reference"&&t===")")return e.type="function",e.value=this._subFormula(y,e.value),void(y="");if(t===")"){const o=new b.Parser(y,this.settings);g.push({type:"segment",value:o})}else if(s){if(s==="]")return g.push({type:"reference",value:y}),void(y="");g.push({type:"literal",value:y})}else if(m.operatorCharacters.includes(y))e&&e.type==="operator"&&m.operators.includes(e.value+y)?e.value+=y:g.push({type:"operator",value:y});else if(y.match(m.numberRx))g.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)g.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(m.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);g.push({type:"reference",value:y})}y=""}};for(const t of l)s?t===s?(a(),s=!1):y+=t:p?t==="("?(y+=t,++p):t===")"?(--p,p?y+=t:a(t)):y+=t:t in m.literals?s=m.literals[t]:t==="("?(a(),++p):m.operatorCharacters.includes(t)?(a(),y=t,a()):t!==" "?y+=t:a();a(),g=g.map((t,e)=>t.type!=="operator"||t.value!=="-"||e&&g[e-1].type!=="operator"?t:{type:"operator",value:"n"});let n=!1;for(const t of g){if(t.type==="operator"){if(m.operatorsPrefix.includes(t.value))continue;if(!n)throw new Error("Formula contains an operator in invalid position");if(!m.operators.includes(t.value))throw new Error(`Formula contains an unknown operator ${t.value}`)}else if(n)throw new Error("Formula missing expected operator");n=!n}if(!n)throw new Error("Formula contains invalid trailing operator");g.length===1&&["reference","literal","constant"].includes(g[0].type)&&(this.single={type:g[0].type==="reference"?"reference":"value",value:g[0].value}),this._parts=g.map(t=>{if(t.type==="operator")return m.operatorsPrefix.includes(t.value)?t:t.value;if(t.type!=="reference")return t.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(t.value))throw new Error(`Formula contains invalid reference ${t.value}`);return this.settings.reference?this.settings.reference(t.value):m.reference(t.value)})}_subFormula(l,g){const y=this.settings.functions[g];if(typeof y!="function")throw new Error(`Formula contains unknown function ${g}`);let p=[];if(l){let s="",a=0,n=!1;const t=()=>{if(!s)throw new Error(`Formula contains function ${g} with invalid arguments ${l}`);p.push(s),s=""};for(let e=0;e<l.length;++e){const o=l[e];n?(s+=o,o===n&&(n=!1)):o in m.literals&&!a?(s+=o,n=m.literals[o]):o!==","||a?(s+=o,o==="("?++a:o===")"&&--a):t()}t()}return p=p.map(s=>new b.Parser(s,this.settings)),function(s){const a=[];for(const n of p)a.push(n.evaluate(s));return y.call(s,...a)}}evaluate(l){const g=this._parts.slice();for(let y=g.length-2;y>=0;--y){const p=g[y];if(p&&p.type==="operator"){const s=g[y+1];g.splice(y+1,1);const a=m.evaluate(s,l);g[y]=m.single(p.value,a)}}return m.operatorsOrder.forEach(y=>{for(let p=1;p<g.length-1;)if(y.includes(g[p])){const s=g[p],a=m.evaluate(g[p-1],l),n=m.evaluate(g[p+1],l);g.splice(p,2);const t=m.calculate(s,a,n);g[p-1]=t===0?0:t}else p+=2}),m.evaluate(g[0],l)}},b.Parser.prototype[m.symbol]=!0,m.reference=function(l){return function(g){return g&&g[l]!==void 0?g[l]:null}},m.evaluate=function(l,g){return l===null?null:typeof l=="function"?l(g):l[m.symbol]?l.evaluate(g):l},m.single=function(l,g){if(l==="!")return!g;const y=-g;return y===0?0:y},m.calculate=function(l,g,y){if(l==="??")return m.exists(g)?g:y;if(typeof g=="string"||typeof y=="string"){if(l==="+")return(g=m.exists(g)?g:"")+(m.exists(y)?y:"")}else switch(l){case"^":return Math.pow(g,y);case"*":return g*y;case"/":return g/y;case"%":return g%y;case"+":return g+y;case"-":return g-y}switch(l){case"<":return g<y;case"<=":return g<=y;case">":return g>y;case">=":return g>=y;case"==":return g===y;case"!=":return g!==y;case"&&":return g&&y;case"||":return g||y}return null},m.exists=function(l){return l!=null}},680:(w,b,m)=>{const{assert:l}=m(3115),g=m(2115),y=m(9415),p=m(6162);w.exports=g.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(s,a){return l(typeof s=="function","Method must be a function"),l(a===void 0||a&&typeof a=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:s,description:a}})},validate(s,a,{method:n}){try{return n(s,a)}catch(t){return a.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method(s){return this.prefs({messages:s})}},shared:{method(s){l(y.isSchema(s)&&s._flags.id,"Schema must be a schema with an id");const a=this.clone();return a.$_terms.shared=a.$_terms.shared||[],a.$_terms.shared.push(s),a.$_mutateRegister(s),a}},warning:{method(s,a){return l(s&&typeof s=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:s,local:a},warn:!0})},validate:(s,a,{code:n,local:t})=>a.error(n,t),args:["code","local"],multi:!0}},modifiers:{keep(s,a=!0){s.keep=a},message(s,a){s.message=p.compile(a)},warn(s,a=!0){s.warn=a}},manifest:{build(s,a){for(const n in a){const t=a[n];if(["examples","externals","metas","notes","tags"].includes(n))for(const e of t)s=s[n.slice(0,-1)](e);else{if(n==="alterations"){const e={};for(const{target:o,adjuster:r}of t)e[o]=r;s=s.alter(e);continue}if(n!=="whens"){if(n==="shared")for(const e of t)s=s.shared(e)}else for(const e of t){const{ref:o,is:r,not:i,then:c,otherwise:f,concat:d}=e;s=d?s.concat(d):o?s.when(o,{is:r,not:i,then:c,otherwise:f,switch:e.switch,break:e.break}):s.when(r,{then:c,otherwise:f,break:e.break})}}}return s}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},834:w=>{w.exports=function(b){return typeof b?.then=="function"}},1100:(w,b,m)=>{const{assert:l,clone:g}=m(3115),y=m(2130),p=m(9415),s=m(3541),a=m(8013),n=m(2062),t=m(9017),e=m(8529),o=m(1532),r=m(125);let i;const c={types:{alternatives:m(4972),any:m(680),array:m(2591),boolean:m(6186),date:m(2588),function:m(4840),link:m(9556),number:m(4709),object:m(7487),string:m(9033),symbol:m(5008)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const f={_types:new Set(Object.keys(c.types))};for(const d of f._types)f[d]=function(..._){return l(!_.length||["alternatives","link","object"].includes(d),"The",d,"type does not allow arguments"),c.generate(this,c.types[d],_)};for(const d of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])f[d]=function(..._){return this.any()[d](..._)};Object.assign(f,c.methods);for(const d in c.aliases){const _=c.aliases[d];f[d]=f[_]}return f.x=f.expression,r.setup&&r.setup(f),f}};c.methods={ValidationError:a.ValidationError,version:p.version,cache:y.provider,assert(f,d,..._){c.assert(f,d,!0,_)},attempt:(f,d,..._)=>c.assert(f,d,!1,_),build(f){return l(typeof t.build=="function","Manifest functionality disabled"),t.build(this,f)},checkPreferences(f){p.checkPreferences(f)},compile(f,d){return s.compile(this,f,d)},defaults(f){l(typeof f=="function","modifier must be a function");const d=Object.assign({},this);for(const _ of d._types){const A=f(d[_]());l(p.isSchema(A),"modifier must return a valid schema object"),d[_]=function(...u){return c.generate(this,A,u)}}return d},expression:(...f)=>new o(...f),extend(...f){p.verifyFlat(f,"extend"),i=i||m(1688),l(f.length,"You need to provide at least one extension"),this.assert(f,i.extensions);const d=Object.assign({},this);d._types=new Set(d._types);for(let _ of f){typeof _=="function"&&(_=_(d)),this.assert(_,i.extension);const A=c.expandExtension(_,d);for(const u of A){l(d[u.type]===void 0||d._types.has(u.type),"Cannot override name",u.type);const h=u.base||this.any(),v=n.type(h,u);d._types.add(u.type),d[u.type]=function(...E){return c.generate(this,v,E)}}}return d},isError:a.ValidationError.isError,isExpression:o.isTemplate,isRef:e.isRef,isSchema:p.isSchema,in:(...f)=>e.in(...f),override:p.symbols.override,ref:(...f)=>e.create(...f),types(){const f={};for(const d of this._types)f[d]=this[d]();for(const d in c.aliases)f[d]=this[d]();return f}},c.assert=function(f,d,_,A){const u=A[0]instanceof Error||typeof A[0]=="string"?A[0]:null,h=u!==null?A[1]:A[0],v=d.validate(f,p.preferences({errors:{stack:!0}},h||{}));let E=v.error;if(!E)return v.value;if(u instanceof Error)throw u;const R=_&&typeof E.annotate=="function"?E.annotate():E.message;throw E instanceof a.ValidationError==0&&(E=g(E)),E.message=u?`${u} ${R}`:R,E},c.generate=function(f,d,_){return l(f,"Must be invoked on a Joi instance."),d.$_root=f,d._definition.args&&_.length?d._definition.args(d,..._):d},c.expandExtension=function(f,d){if(typeof f.type=="string")return[f];const _=[];for(const A of d._types)if(f.type.test(A)){const u=Object.assign({},f);u.type=A,u.base=d[A](),_.push(u)}return _},w.exports=c.root()},1190:(w,b,m)=>{const{assert:l,clone:g,ignore:y,reach:p}=m(3115),s=m(9415),a=m(8013),n=m(4957),t={result:Symbol("result")};b.entry=function(e,o,r){let i=s.defaults;r&&(l(r.warnings===void 0,"Cannot override warnings preference in synchronous validation"),l(r.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),i=s.preferences(s.defaults,r));const c=t.entry(e,o,i);l(!c.mainstay.externals.length,"Schema with external rules must use validateAsync()");const f={value:c.value};return c.error&&(f.error=c.error),c.mainstay.warnings.length&&(f.warning=a.details(c.mainstay.warnings)),c.mainstay.debug&&(f.debug=c.mainstay.debug),c.mainstay.artifacts&&(f.artifacts=c.mainstay.artifacts),f},b.entryAsync=async function(e,o,r){let i=s.defaults;r&&(i=s.preferences(s.defaults,r));const c=t.entry(e,o,i),f=c.mainstay;if(c.error)throw f.debug&&(c.error.debug=f.debug),c.error;if(f.externals.length){let _=c.value;const A=[];for(const u of f.externals){const h=u.state.path,v=u.schema.type==="link"?f.links.get(u.schema):null;let E,R,I=_;const k=h.length?[_]:[],D=h.length?p(e,h):e;if(h.length){E=h[h.length-1];let X=_;for(const Y of h.slice(0,-1))X=X[Y],k.unshift(X);R=k[0],I=R[E]}try{const X=(J,re)=>(v||u.schema).$_createError(J,I,re,u.state,i),Y=await u.method(I,{schema:u.schema,linked:v,state:u.state,prefs:r,original:D,error:X,errorsArray:t.errorsArray,warn:(J,re)=>f.warnings.push((v||u.schema).$_createError(J,I,re,u.state,i)),message:(J,re)=>(v||u.schema).$_createError("external",I,re,u.state,i,{messages:J})});if(Y===void 0||Y===I)continue;if(Y instanceof a.Report){if(f.tracer.log(u.schema,u.state,"rule","external","error"),A.push(Y),i.abortEarly)break;continue}if(Array.isArray(Y)&&Y[s.symbols.errors]){if(f.tracer.log(u.schema,u.state,"rule","external","error"),A.push(...Y),i.abortEarly)break;continue}R?(f.tracer.value(u.state,"rule",I,Y,"external"),R[E]=Y):(f.tracer.value(u.state,"rule",_,Y,"external"),_=Y)}catch(X){throw i.errors.label&&(X.message+=` (${u.label})`),X}}if(c.value=_,A.length)throw c.error=a.process(A,e,i),f.debug&&(c.error.debug=f.debug),c.error}if(!i.warnings&&!i.debug&&!i.artifacts)return c.value;const d={value:c.value};return f.warnings.length&&(d.warning=a.details(f.warnings)),f.debug&&(d.debug=f.debug),f.artifacts&&(d.artifacts=f.artifacts),d},b.standard=function(e,o){return o.isAsync()?b.entryAsync(e,o):b.entry(e,o)},t.Mainstay=class{constructor(e,o,r){this.externals=[],this.warnings=[],this.tracer=e,this.debug=o,this.links=r,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}},t.entry=function(e,o,r){const{tracer:i,cleanup:c}=t.tracer(o,r),f=r.debug?[]:null,d=o._ids._schemaChain?new Map:null,_=new t.Mainstay(i,f,d),A=o._ids._schemaChain?[{schema:o}]:null,u=new n([],[],{mainstay:_,schemas:A}),h=b.validate(e,o,u,r);c&&o.$_root.untrace();const v=a.process(h.errors,e,r);return{value:h.value,error:v,mainstay:_}},t.tracer=function(e,o){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:o.debug?(l(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:t.ignore}},b.validate=function(e,o,r,i,c={}){if(o.$_terms.whens&&(o=o._generate(e,r,i).schema),o._preferences&&(i=t.prefs(o,i)),o._cache&&i.cache){const v=o._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!v),v)return v}const f=(v,E,R)=>o.$_createError(v,e,E,R||r,i),d={original:e,prefs:i,schema:o,state:r,error:f,errorsArray:t.errorsArray,warn:(v,E,R)=>r.mainstay.warnings.push(f(v,E,R)),message:(v,E)=>o.$_createError("custom",e,E,r,i,{messages:v})};r.mainstay.tracer.entry(o,r);const _=o._definition;if(_.prepare&&e!==void 0&&i.convert){const v=_.prepare(e,d);if(v){if(r.mainstay.tracer.value(r,"prepare",e,v.value),v.errors)return t.finalize(v.value,[].concat(v.errors),d);e=v.value}}if(_.coerce&&e!==void 0&&i.convert&&(!_.coerce.from||_.coerce.from.includes(typeof e))){const v=_.coerce.method(e,d);if(v){if(r.mainstay.tracer.value(r,"coerced",e,v.value),v.errors)return t.finalize(v.value,[].concat(v.errors),d);e=v.value}}const A=o._flags.empty;A&&A.$_match(t.trim(e,o),r.nest(A),s.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);const u=c.presence||o._flags.presence||(o._flags._endedSwitch?null:i.presence);if(e===void 0){if(u==="forbidden")return t.finalize(e,null,d);if(u==="required")return t.finalize(e,[o.$_createError("any.required",e,null,r,i)],d);if(u==="optional"){if(o._flags.default!==s.symbols.deepDefault)return t.finalize(e,null,d);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if(u==="forbidden")return t.finalize(e,[o.$_createError("any.unknown",e,null,r,i)],d);const h=[];if(o._valids){const v=o._valids.get(e,r,i,o._flags.insensitive);if(v)return i.convert&&(r.mainstay.tracer.value(r,"valids",e,v.value),e=v.value),r.mainstay.tracer.filter(o,r,"valid",v),t.finalize(e,null,d);if(o._flags.only){const E=o.$_createError("any.only",e,{valids:o._valids.values({display:!0})},r,i);if(i.abortEarly)return t.finalize(e,[E],d);h.push(E)}}if(o._invalids){const v=o._invalids.get(e,r,i,o._flags.insensitive);if(v){r.mainstay.tracer.filter(o,r,"invalid",v);const E=o.$_createError("any.invalid",e,{invalids:o._invalids.values({display:!0})},r,i);if(i.abortEarly)return t.finalize(e,[E],d);h.push(E)}}if(_.validate){const v=_.validate(e,d);if(v&&(r.mainstay.tracer.value(r,"base",e,v.value),e=v.value,v.errors)){if(!Array.isArray(v.errors))return h.push(v.errors),t.finalize(e,h,d);if(v.errors.length)return h.push(...v.errors),t.finalize(e,h,d)}}return o._rules.length?t.rules(e,h,d):t.finalize(e,h,d)},t.rules=function(e,o,r){const{schema:i,state:c,prefs:f}=r;for(const d of i._rules){const _=i._definition.rules[d.method];if(_.convert&&f.convert){c.mainstay.tracer.log(i,c,"rule",d.name,"full");continue}let A,u=d.args;if(d._resolve.length){u=Object.assign({},u);for(const v of d._resolve){const E=_.argsByName.get(v),R=u[v].resolve(e,c,f),I=E.normalize?E.normalize(R):R,k=s.validateArg(I,null,E);if(k){A=i.$_createError("any.ref",R,{arg:v,ref:u[v],reason:k},c,f);break}u[v]=I}}A=A||_.validate(e,r,u,d);const h=t.rule(A,d);if(h.errors){if(c.mainstay.tracer.log(i,c,"rule",d.name,"error"),d.warn){c.mainstay.warnings.push(...h.errors);continue}if(f.abortEarly)return t.finalize(e,h.errors,r);o.push(...h.errors)}else c.mainstay.tracer.log(i,c,"rule",d.name,"pass"),c.mainstay.tracer.value(c,"rule",e,h.value,d.name),e=h.value}return t.finalize(e,o,r)},t.rule=function(e,o){return e instanceof a.Report?(t.error(e,o),{errors:[e],value:null}):Array.isArray(e)&&e[s.symbols.errors]?(e.forEach(r=>t.error(r,o)),{errors:e,value:null}):{errors:null,value:e}},t.error=function(e,o){return o.message&&e._setTemplate(o.message),e},t.finalize=function(e,o,r){o=o||[];const{schema:i,state:c,prefs:f}=r;if(o.length){const _=t.default("failover",void 0,o,r);_!==void 0&&(c.mainstay.tracer.value(c,"failover",e,_),e=_,o=[])}if(o.length&&i._flags.error)if(typeof i._flags.error=="function"){o=i._flags.error(o),Array.isArray(o)||(o=[o]);for(const _ of o)l(_ instanceof Error||_ instanceof a.Report,"error() must return an Error object")}else o=[i._flags.error];if(e===void 0){const _=t.default("default",e,o,r);c.mainstay.tracer.value(c,"default",e,_),e=_}if(i._flags.cast&&e!==void 0){const _=i._definition.cast[i._flags.cast];if(_.from(e)){const A=_.to(e,r);c.mainstay.tracer.value(c,"cast",e,A,i._flags.cast),e=A}}if(i.$_terms.externals&&f.externals&&f._externals!==!1)for(const{method:_}of i.$_terms.externals)c.mainstay.externals.push({method:_,schema:i,state:c,label:a.label(i._flags,c,f)});const d={value:e,errors:o.length?o:null};return i._flags.result&&(d.value=i._flags.result==="strip"?void 0:r.original,c.mainstay.tracer.value(c,i._flags.result,e,d.value),c.shadow(e,i._flags.result)),i._cache&&f.cache!==!1&&!i._refs.length&&i._cache.set(r.original,d),e===void 0||d.errors||i._flags.artifact===void 0||(c.mainstay.artifacts=c.mainstay.artifacts||new Map,c.mainstay.artifacts.has(i._flags.artifact)||c.mainstay.artifacts.set(i._flags.artifact,[]),c.mainstay.artifacts.get(i._flags.artifact).push(c.path)),d},t.prefs=function(e,o){const r=o===s.defaults;return r&&e._preferences[s.symbols.prefs]?e._preferences[s.symbols.prefs]:(o=s.preferences(o,e._preferences),r&&(e._preferences[s.symbols.prefs]=o),o)},t.default=function(e,o,r,i){const{schema:c,state:f,prefs:d}=i,_=c._flags[e];if(d.noDefaults||_===void 0)return o;if(f.mainstay.tracer.log(c,f,"rule",e,"full"),!_)return _;if(typeof _=="function"){const A=_.length?[g(f.ancestors[0]),i]:[];try{return _(...A)}catch(u){return void r.push(c.$_createError(`any.${e}`,null,{error:u},f,d))}}return typeof _!="object"?_:_[s.symbols.literal]?_.literal:s.isResolvable(_)?_.resolve(o,f,d):g(_)},t.trim=function(e,o){if(typeof e!="string")return e;const r=o.$_getRule("trim");return r&&r.args.enabled?e.trim():e},t.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},t.errorsArray=function(){const e=[];return e[s.symbols.errors]=!0,e}},1528:(w,b,m)=>{const l=m(8253),g={};w.exports=function(y,p,s){if(p===!1||p==null)return y;typeof(s=s||{})=="string"&&(s={separator:s});const a=Array.isArray(p);l(!a||!s.separator,"Separator option is not valid for array-based chain");const n=a?p:p.split(s.separator||".");let t=y;for(let e=0;e<n.length;++e){let o=n[e];const r=s.iterables&&g.iterables(t);if(Array.isArray(t)||r==="set"){const i=Number(o);Number.isInteger(i)&&(o=i<0?t.length+i:i)}if(!t||typeof t=="function"&&s.functions===!1||!r&&t[o]===void 0){l(!s.strict||e+1===n.length,"Missing segment",o,"in reach path ",p),l(typeof t=="object"||s.functions===!0||typeof t!="function","Invalid segment",o,"in reach path ",p),t=s.default;break}t=r?r==="set"?[...t][o]:t.get(o):t[o]}return t},g.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},1532:(w,b,m)=>{const{assert:l,clone:g,escapeHtml:y}=m(3115),p=m(679),s=m(9415),a=m(8013),n=m(8529),t={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};w.exports=t.Template=class{constructor(e,o){if(l(typeof e=="string","Template source must be a string"),l(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,o){const{functions:r,...i}=o;this._settings=Object.keys(i).length?g(i):void 0,this._functions=r,this._functions&&(l(Object.keys(this._functions).every(c=>typeof c=="string"),"Functions keys must be strings"),l(Object.values(this._functions).every(c=>typeof c=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const e=t.encode(this.source),o=t.split(e);let r=!1;const i=[],c=o.shift();c&&i.push(c);for(const f of o){const d=f[0]!=="{",_=d?"}":"}}",A=f.indexOf(_);if(A===-1||f[1]==="{"){i.push(`{${t.decode(f)}`);continue}let u=f.slice(d?0:1,A);const h=u[0]===":";h&&(u=u.slice(1));const v=this._ref(t.decode(u),{raw:d,wrapped:h});i.push(v),typeof v!="string"&&(r=!0);const E=f.slice(A+_.length);E&&i.push(t.decode(E))}r?this._template=i:this.rendered=i.join("")}static date(e,o){return t.dateFormat[o.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const o={template:this.source};return this._settings&&(o.options=this._settings),this._functions&&(o.functions=this._functions),o}static build(e){return new t.Template(e.template,e.options||e.functions?{...e.options,functions:e.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[s.symbols.template]}refs(){if(!this._template)return;const e=[];for(const o of this._template)typeof o!="string"&&e.push(...o.refs);return e}resolve(e,o,r,i){return this._template&&this._template.length===1?this._part(this._template[0],e,o,r,i,{}):this.render(e,o,r,i)}_part(e,...o){return e.ref?e.ref.resolve(...o):e.formula.evaluate(o)}render(e,o,r,i,c={}){if(!this.isDynamic())return this.rendered;const f=[];for(const d of this._template)if(typeof d=="string")f.push(d);else{const _=this._part(d,e,o,r,i,c),A=t.stringify(_,e,o,r,i,c);if(A!==void 0){const u=d.raw||(c.errors&&c.errors.escapeHtml)===!1?A:y(A);f.push(t.wrap(u,d.wrapped&&r.errors.wrap.label))}}return f.join("")}_ref(e,{raw:o,wrapped:r}){const i=[],c=d=>{const _=n.create(d,this._settings);return i.push(_),A=>{const u=_.resolve(...A);return u!==void 0?u:null}};try{const d=this._functions?{...t.functions,...this._functions}:t.functions;var f=new p.Parser(e,{reference:c,functions:d,constants:t.constants})}catch(d){throw d.message=`Invalid template variable "${e}" fails due to: ${d.message}`,d}if(f.single){if(f.single.type==="reference"){const d=i[0];return{ref:d,raw:o,refs:i,wrapped:r||d.type==="local"&&d.key==="label"}}return t.stringify(f.single.value)}return{formula:f,raw:o,refs:i}}toString(){return this.source}},t.Template.prototype[s.symbols.template]=!0,t.Template.prototype.isImmutable=!0,t.encode=function(e){return e.replace(/\\(\{+)/g,(o,r)=>t.opens.slice(0,r.length)).replace(/\\(\}+)/g,(o,r)=>t.closes.slice(0,r.length))},t.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},t.split=function(e){const o=[];let r="";for(let i=0;i<e.length;++i){const c=e[i];if(c==="{"){let f="";for(;i+1<e.length&&e[i+1]==="{";)f+="{",++i;o.push(r),r=f}else r+=c}return o.push(r),o},t.wrap=function(e,o){return o?o.length===1?`${o}${e}${o}`:`${o[0]}${e}${o[1]}`:e},t.stringify=function(e,o,r,i,c,f={}){const d=typeof e,_=i&&i.errors&&i.errors.wrap||{};let A=!1;if(n.isRef(e)&&e.render&&(A=e.in,e=e.resolve(o,r,i,c,{in:e.in,...f})),e===null)return"null";if(d==="string")return t.wrap(e,f.arrayItems&&_.string);if(d==="number"||d==="function"||d==="symbol")return e.toString();if(d!=="object")return JSON.stringify(e);if(e instanceof Date)return t.Template.date(e,i);if(e instanceof Map){const h=[];for(const[v,E]of e.entries())h.push(`${v.toString()} -> ${E.toString()}`);e=h}if(!Array.isArray(e))return e.toString();const u=[];for(const h of e)u.push(t.stringify(h,o,r,i,c,{arrayItems:!0,...f}));return t.wrap(u.join(", "),!A&&_.array)},t.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},t.functions={if:(e,o,r)=>e?o:r,length:e=>typeof e=="string"?e.length:e&&typeof e=="object"?Array.isArray(e)?e.length:Object.keys(e).length:null,msg(e){const[o,r,i,c,f]=this,d=f.messages;if(!d)return"";const _=a.template(o,d[0],e,r,i)||a.template(o,d[1],e,r,i);return _?_.render(o,r,i,c,f):""},number:e=>typeof e=="number"?e:typeof e=="string"?parseFloat(e):typeof e=="boolean"?e?1:0:e instanceof Date?e.getTime():null}},1626:(w,b,m)=>{const l=m(1528);w.exports=function(g,y,p){return y.replace(/{([^{}]+)}/g,(s,a)=>{const n=l(g,a,p);return n??""})}},1688:(w,b,m)=>{const l=m(1100),g={};g.wrap=l.string().min(1).max(2).allow(!1),b.preferences=l.object({allowUnknown:l.boolean(),abortEarly:l.boolean(),artifacts:l.boolean(),cache:l.boolean(),context:l.object(),convert:l.boolean(),dateFormat:l.valid("date","iso","string","time","utc"),debug:l.boolean(),errors:{escapeHtml:l.boolean(),label:l.valid("path","key",!1),language:[l.string(),l.object().ref()],render:l.boolean(),stack:l.boolean(),wrap:{label:g.wrap,array:g.wrap,string:g.wrap}},externals:l.boolean(),messages:l.object(),noDefaults:l.boolean(),nonEnumerables:l.boolean(),presence:l.valid("required","optional","forbidden"),skipFunctions:l.boolean(),stripUnknown:l.object({arrays:l.boolean(),objects:l.boolean()}).or("arrays","objects").allow(!0,!1),warnings:l.boolean()}).strict(),g.nameRx=/^[a-zA-Z0-9]\w*$/,g.rule=l.object({alias:l.array().items(l.string().pattern(g.nameRx)).single(),args:l.array().items(l.string(),l.object({name:l.string().pattern(g.nameRx).required(),ref:l.boolean(),assert:l.alternatives([l.function(),l.object().schema()]).conditional("ref",{is:!0,then:l.required()}),normalize:l.function(),message:l.string().when("assert",{is:l.function(),then:l.required()})})),convert:l.boolean(),manifest:l.boolean(),method:l.function().allow(!1),multi:l.boolean(),validate:l.function()}),b.extension=l.object({type:l.alternatives([l.string(),l.object().regex()]).required(),args:l.function(),cast:l.object().pattern(g.nameRx,l.object({from:l.function().maxArity(1).required(),to:l.function().minArity(1).maxArity(2).required()})),base:l.object().schema().when("type",{is:l.object().regex(),then:l.forbidden()}),coerce:[l.function().maxArity(3),l.object({method:l.function().maxArity(3).required(),from:l.array().items(l.string()).single()})],flags:l.object().pattern(g.nameRx,l.object({setter:l.string(),default:l.any()})),manifest:{build:l.function().arity(2)},messages:[l.object(),l.string()],modifiers:l.object().pattern(g.nameRx,l.function().minArity(1).maxArity(2)),overrides:l.object().pattern(g.nameRx,l.function()),prepare:l.function().maxArity(3),rebuild:l.function().arity(1),rules:l.object().pattern(g.nameRx,g.rule),terms:l.object().pattern(g.nameRx,l.object({init:l.array().allow(null).required(),manifest:l.object().pattern(/.+/,[l.valid("schema","single"),l.object({mapped:l.object({from:l.string().required(),to:l.string().required()}).required()})])})),validate:l.function().maxArity(3)}).strict(),b.extensions=l.array().items(l.object(),l.function().arity(1)).strict(),g.desc={buffer:l.object({buffer:l.string()}),func:l.object({function:l.function().required(),options:{literal:!0}}),override:l.object({override:!0}),ref:l.object({ref:l.object({type:l.valid("value","global","local"),path:l.array().required(),separator:l.string().length(1).allow(!1),ancestor:l.number().min(0).integer().allow("root"),map:l.array().items(l.array().length(2)).min(1),adjust:l.function(),iterables:l.boolean(),in:l.boolean(),render:l.boolean()}).required()}),regex:l.object({regex:l.string().min(3)}),special:l.object({special:l.valid("deep").required()}),template:l.object({template:l.string().required(),options:l.object()}),value:l.object({value:l.alternatives([l.object(),l.array()]).required()})},g.desc.entity=l.alternatives([l.array().items(l.link("...")),l.boolean(),l.function(),l.number(),l.string(),g.desc.buffer,g.desc.func,g.desc.ref,g.desc.regex,g.desc.special,g.desc.template,g.desc.value,l.link("/")]),g.desc.values=l.array().items(null,l.boolean(),l.function(),l.number().allow(1/0,-1/0),l.string().allow(""),l.symbol(),g.desc.buffer,g.desc.func,g.desc.override,g.desc.ref,g.desc.regex,g.desc.template,g.desc.value),g.desc.messages=l.object().pattern(/.+/,[l.string(),g.desc.template,l.object().pattern(/.+/,[l.string(),g.desc.template])]),b.description=l.object({type:l.string().required(),flags:l.object({cast:l.string(),default:l.any(),description:l.string(),empty:l.link("/"),failover:g.desc.entity,id:l.string(),label:l.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:l.boolean(),unit:l.string()}).unknown(),preferences:{allowUnknown:l.boolean(),abortEarly:l.boolean(),artifacts:l.boolean(),cache:l.boolean(),convert:l.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:l.boolean(),label:["path","key"],language:[l.string(),g.desc.ref],wrap:{label:g.wrap,array:g.wrap}},externals:l.boolean(),messages:g.desc.messages,noDefaults:l.boolean(),nonEnumerables:l.boolean(),presence:["required","optional","forbidden"],skipFunctions:l.boolean(),stripUnknown:l.object({arrays:l.boolean(),objects:l.boolean()}).or("arrays","objects").allow(!0,!1),warnings:l.boolean()},allow:g.desc.values,invalid:g.desc.values,rules:l.array().min(1).items({name:l.string().required(),args:l.object().min(1),keep:l.boolean(),message:[l.string(),g.desc.messages],warn:l.boolean()}),keys:l.object().pattern(/.*/,l.link("/")),link:g.desc.ref}).pattern(/^[a-z]\w*$/,l.any())},1803:w=>{w.exports=class extends Error{constructor(b,m){var l,g,y;super(b||"Unknown error"),l=this,y="AssertError",(g=(function(p){var s=(function(a){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var t=n.call(a,"string");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(p);return typeof s=="symbol"?s:s+""})(g="name"))in l?Object.defineProperty(l,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):l[g]=y,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,m)}}},2062:(w,b,m)=>{const{assert:l,clone:g}=m(3115),y=m(9415),p=m(6162),s={};b.type=function(a,n){const t=Object.getPrototypeOf(a),e=g(t),o=a._assign(Object.create(e)),r=Object.assign({},n);delete r.base,e._definition=r;const i=t._definition||{};r.messages=p.merge(i.messages,r.messages),r.properties=Object.assign({},i.properties,r.properties),o.type=r.type,r.flags=Object.assign({},i.flags,r.flags);const c=Object.assign({},i.terms);if(r.terms)for(const A in r.terms){const u=r.terms[A];l(o.$_terms[A]===void 0,"Invalid term override for",r.type,A),o.$_terms[A]=u.init,c[A]=u}r.terms=c,r.args||(r.args=i.args),r.prepare=s.prepare(r.prepare,i.prepare),r.coerce&&(typeof r.coerce=="function"&&(r.coerce={method:r.coerce}),r.coerce.from&&!Array.isArray(r.coerce.from)&&(r.coerce={method:r.coerce.method,from:[].concat(r.coerce.from)})),r.coerce=s.coerce(r.coerce,i.coerce),r.validate=s.validate(r.validate,i.validate);const f=Object.assign({},i.rules);if(r.rules)for(const A in r.rules){const u=r.rules[A];l(typeof u=="object","Invalid rule definition for",r.type,A);let h=u.method;if(h===void 0&&(h=function(){return this.$_addRule(A)}),h&&(l(!e[A],"Rule conflict in",r.type,A),e[A]=h),l(!f[A],"Rule conflict in",r.type,A),f[A]=u,u.alias){const v=[].concat(u.alias);for(const E of v)e[E]=u.method}u.args&&(u.argsByName=new Map,u.args=u.args.map(v=>(typeof v=="string"&&(v={name:v}),l(!u.argsByName.has(v.name),"Duplicated argument name",v.name),y.isSchema(v.assert)&&(v.assert=v.assert.strict().label(v.name)),u.argsByName.set(v.name,v),v)))}r.rules=f;const d=Object.assign({},i.modifiers);if(r.modifiers)for(const A in r.modifiers){l(!e[A],"Rule conflict in",r.type,A);const u=r.modifiers[A];l(typeof u=="function","Invalid modifier definition for",r.type,A);const h=function(v){return this.rule({[A]:v})};e[A]=h,d[A]=u}if(r.modifiers=d,r.overrides){e._super=t,o.$_super={};for(const A in r.overrides)l(t[A],"Cannot override missing",A),r.overrides[A][y.symbols.parent]=t[A],o.$_super[A]=t[A].bind(o);Object.assign(e,r.overrides)}r.cast=Object.assign({},i.cast,r.cast);const _=Object.assign({},i.manifest,r.manifest);return _.build=s.build(r.manifest&&r.manifest.build,i.manifest&&i.manifest.build),r.manifest=_,r.rebuild=s.rebuild(r.rebuild,i.rebuild),o},s.build=function(a,n){return a&&n?function(t,e){return n(a(t,e),e)}:a||n},s.coerce=function(a,n){return a&&n?{from:a.from&&n.from?[...new Set([...a.from,...n.from])]:null,method(t,e){let o;if((!n.from||n.from.includes(typeof t))&&(o=n.method(t,e),o)){if(o.errors||o.value===void 0)return o;t=o.value}if(!a.from||a.from.includes(typeof t)){const r=a.method(t,e);if(r)return r}return o}}:a||n},s.prepare=function(a,n){return a&&n?function(t,e){const o=a(t,e);if(o){if(o.errors||o.value===void 0)return o;t=o.value}return n(t,e)||o}:a||n},s.rebuild=function(a,n){return a&&n?function(t){n(t),a(t)}:a||n},s.validate=function(a,n){return a&&n?function(t,e){const o=n(t,e);if(o){if(o.errors&&(!Array.isArray(o.errors)||o.errors.length))return o;t=o.value}return a(t,e)||o}:a||n}},2115:(w,b,m)=>{const{assert:l,clone:g,deepEqual:y,merge:p}=m(3115),s=m(2130),a=m(9415),n=m(3541),t=m(8013),e=m(2062),o=m(9017),r=m(6162),i=m(5844),c=m(8529),f=m(125),d=m(1190),_=m(6220),A={Base:class{constructor(u){this.type=u,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new i.Ids,this._preferences=null,this._refs=new c.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return l(typeof o.describe=="function","Manifest functionality disabled"),o.describe(this)}allow(...u){return a.verifyFlat(u,"allow"),this._values(u,"_valids")}alter(u){l(u&&typeof u=="object"&&!Array.isArray(u),"Invalid targets argument"),l(!this._inRuleset(),"Cannot set alterations inside a ruleset");const h=this.clone();h.$_terms.alterations=h.$_terms.alterations||[];for(const v in u){const E=u[v];l(typeof E=="function","Alteration adjuster for",v,"must be a function"),h.$_terms.alterations.push({target:v,adjuster:E})}return h.$_temp.ruleset=!1,h}artifact(u){return l(u!==void 0,"Artifact cannot be undefined"),l(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",u)}cast(u){return l(u===!1||typeof u=="string","Invalid to value"),l(u===!1||this._definition.cast[u],"Type",this.type,"does not support casting to",u),this.$_setFlag("cast",u===!1?void 0:u)}default(u,h){return this._default("default",u,h)}description(u){return l(u&&typeof u=="string","Description must be a non-empty string"),this.$_setFlag("description",u)}empty(u){const h=this.clone();return u!==void 0&&(u=h.$_compile(u,{override:!1})),h.$_setFlag("empty",u,{clone:!1})}error(u){return l(u,"Missing error"),l(u instanceof Error||typeof u=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",u)}example(u,h={}){return l(u!==void 0,"Missing example"),a.assertOptions(h,["override"]),this._inner("examples",u,{single:!0,override:h.override})}external(u,h){return typeof u=="object"&&(l(!h,"Cannot combine options with description"),h=u.description,u=u.method),l(typeof u=="function","Method must be a function"),l(h===void 0||h&&typeof h=="string","Description must be a non-empty string"),this._inner("externals",{method:u,description:h},{single:!0})}failover(u,h){return this._default("failover",u,h)}forbidden(){return this.presence("forbidden")}id(u){return u?(l(typeof u=="string","id must be a non-empty string"),l(/^[^\.]+$/.test(u),"id cannot contain period character"),this.$_setFlag("id",u)):this.$_setFlag("id",void 0)}invalid(...u){return this._values(u,"_invalids")}label(u){return l(u&&typeof u=="string","Label name must be a non-empty string"),this.$_setFlag("label",u)}meta(u){return l(u!==void 0,"Meta cannot be undefined"),this._inner("metas",u,{single:!0})}note(...u){l(u.length,"Missing notes");for(const h of u)l(h&&typeof h=="string","Notes must be non-empty strings");return this._inner("notes",u)}only(u=!0){return l(typeof u=="boolean","Invalid mode:",u),this.$_setFlag("only",u)}optional(){return this.presence("optional")}prefs(u){l(u,"Missing preferences"),l(u.context===void 0,"Cannot override context"),l(u.externals===void 0,"Cannot override externals"),l(u.warnings===void 0,"Cannot override warnings"),l(u.debug===void 0,"Cannot override debug"),a.checkPreferences(u);const h=this.clone();return h._preferences=a.preferences(h._preferences,u),h}presence(u){return l(["optional","required","forbidden"].includes(u),"Unknown presence mode",u),this.$_setFlag("presence",u)}raw(u=!0){return this.$_setFlag("result",u?"raw":void 0)}result(u){return l(["raw","strip"].includes(u),"Unknown result mode",u),this.$_setFlag("result",u)}required(){return this.presence("required")}strict(u){const h=this.clone(),v=u!==void 0&&!u;return h._preferences=a.preferences(h._preferences,{convert:v}),h}strip(u=!0){return this.$_setFlag("result",u?"strip":void 0)}tag(...u){l(u.length,"Missing tags");for(const h of u)l(h&&typeof h=="string","Tags must be non-empty strings");return this._inner("tags",u)}unit(u){return l(u&&typeof u=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",u)}valid(...u){a.verifyFlat(u,"valid");const h=this.allow(...u);return h.$_setFlag("only",!!h._valids,{clone:!1}),h}when(u,h){const v=this.clone();v.$_terms.whens||(v.$_terms.whens=[]);const E=n.when(v,u,h);if(!["any","link"].includes(v.type)){const R=E.is?[E]:E.switch;for(const I of R)l(!I.then||I.then.type==="any"||I.then.type===v.type,"Cannot combine",v.type,"with",I.then&&I.then.type),l(!I.otherwise||I.otherwise.type==="any"||I.otherwise.type===v.type,"Cannot combine",v.type,"with",I.otherwise&&I.otherwise.type)}return v.$_terms.whens.push(E),v.$_mutateRebuild()}cache(u){l(!this._inRuleset(),"Cannot set caching inside a ruleset"),l(!this._cache,"Cannot override schema cache"),l(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const h=this.clone();return h._cache=u||s.provider.provision(),h.$_temp.ruleset=!1,h}clone(){const u=Object.create(Object.getPrototypeOf(this));return this._assign(u)}concat(u){l(a.isSchema(u),"Invalid schema object"),l(this.type==="any"||u.type==="any"||u.type===this.type,"Cannot merge type",this.type,"with another type:",u.type),l(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),l(!u._inRuleset(),"Cannot concatenate a schema with open ruleset");let h=this.clone();if(this.type==="any"&&u.type!=="any"){const v=u.clone();for(const E of Object.keys(h))E!=="type"&&(v[E]=h[E]);h=v}h._ids.concat(u._ids),h._refs.register(u,c.toSibling),h._preferences=h._preferences?a.preferences(h._preferences,u._preferences):u._preferences,h._valids=_.merge(h._valids,u._valids,u._invalids),h._invalids=_.merge(h._invalids,u._invalids,u._valids);for(const v of u._singleRules.keys())h._singleRules.has(v)&&(h._rules=h._rules.filter(E=>E.keep||E.name!==v),h._singleRules.delete(v));for(const v of u._rules)u._definition.rules[v.method].multi||h._singleRules.set(v.name,v),h._rules.push(v);if(h._flags.empty&&u._flags.empty){h._flags.empty=h._flags.empty.concat(u._flags.empty);const v=Object.assign({},u._flags);delete v.empty,p(h._flags,v)}else if(u._flags.empty){h._flags.empty=u._flags.empty;const v=Object.assign({},u._flags);delete v.empty,p(h._flags,v)}else p(h._flags,u._flags);for(const v in u.$_terms){const E=u.$_terms[v];E?h.$_terms[v]?h.$_terms[v]=h.$_terms[v].concat(E):h.$_terms[v]=E.slice():h.$_terms[v]||(h.$_terms[v]=E)}return this.$_root._tracer&&this.$_root._tracer._combine(h,[this,u]),h.$_mutateRebuild()}extend(u){return l(!u.base,"Cannot extend type with another base"),e.type(this,u)}extract(u){return u=Array.isArray(u)?u:u.split("."),this._ids.reach(u)}fork(u,h){l(!this._inRuleset(),"Cannot fork inside a ruleset");let v=this;for(let E of[].concat(u))E=Array.isArray(E)?E:E.split("."),v=v._ids.fork(E,h,v);return v.$_temp.ruleset=!1,v}isAsync(){var u;if(!((u=this.$_terms.externals)===null||u===void 0)&&u.length)return!0;if(this.$_terms.whens)for(const I of this.$_terms.whens){var h,v;if((h=I.then)!==null&&h!==void 0&&h.isAsync()||(v=I.otherwise)!==null&&v!==void 0&&v.isAsync())return!0;if(I.switch)for(const k of I.switch){var E,R;if((E=k.then)!==null&&E!==void 0&&E.isAsync()||(R=k.otherwise)!==null&&R!==void 0&&R.isAsync())return!0}}return!1}rule(u){const h=this._definition;a.assertOptions(u,Object.keys(h.modifiers)),l(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const v=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;l(v>=0&&v<this._rules.length,"Cannot apply rules to empty ruleset");const E=this.clone();for(let R=v;R<E._rules.length;++R){const I=E._rules[R],k=g(I);for(const D in u)h.modifiers[D](k,u[D]),l(k.name===I.name,"Cannot change rule name");E._rules[R]=k,E._singleRules.get(k.name)===I&&E._singleRules.set(k.name,k)}return E.$_temp.ruleset=!1,E.$_mutateRebuild()}get ruleset(){l(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const u=this.clone();return u.$_temp.ruleset=u._rules.length,u}get $(){return this.ruleset}tailor(u){u=[].concat(u),l(!this._inRuleset(),"Cannot tailor inside a ruleset");let h=this;if(this.$_terms.alterations)for(const{target:v,adjuster:E}of this.$_terms.alterations)u.includes(v)&&(h=E(h),l(a.isSchema(h),"Alteration adjuster for",v,"failed to return a schema object"));return h=h.$_modify({each:v=>v.tailor(u),ref:!1}),h.$_temp.ruleset=!1,h.$_mutateRebuild()}tracer(){return f.location?f.location(this):this}validate(u,h){return d.entry(u,this,h)}validateAsync(u,h){return d.entryAsync(u,this,h)}$_addRule(u){typeof u=="string"&&(u={name:u}),l(u&&typeof u=="object","Invalid options"),l(u.name&&typeof u.name=="string","Invalid rule name");for(const I in u)l(I[0]!=="_","Cannot set private rule properties");const h=Object.assign({},u);h._resolve=[],h.method=h.method||h.name;const v=this._definition.rules[h.method],E=h.args;l(v,"Unknown rule",h.method);const R=this.clone();if(E){l(Object.keys(E).length===1||Object.keys(E).length===this._definition.rules[h.name].args.length,"Invalid rule definition for",this.type,h.name);for(const I in E){let k=E[I];if(v.argsByName){const D=v.argsByName.get(I);if(D.ref&&a.isResolvable(k))h._resolve.push(I),R.$_mutateRegister(k);else if(D.normalize&&(k=D.normalize(k),E[I]=k),D.assert){const X=a.validateArg(k,I,D);l(!X,X,"or reference")}}k!==void 0?E[I]=k:delete E[I]}}return v.multi||(R._ruleRemove(h.name,{clone:!1}),R._singleRules.set(h.name,h)),R.$_temp.ruleset===!1&&(R.$_temp.ruleset=null),v.priority?R._rules.unshift(h):R._rules.push(h),R}$_compile(u,h){return n.schema(this.$_root,u,h)}$_createError(u,h,v,E,R,I={}){const k=I.flags!==!1?this._flags:{},D=I.messages?r.merge(this._definition.messages,I.messages):this._definition.messages;return new t.Report(u,h,v,k,D,E,R)}$_getFlag(u){return this._flags[u]}$_getRule(u){return this._singleRules.get(u)}$_mapLabels(u){return u=Array.isArray(u)?u:u.split("."),this._ids.labels(u)}$_match(u,h,v,E){(v=Object.assign({},v)).abortEarly=!0,v._externals=!1,h.snapshot();const R=!d.validate(u,this,h,v,E).errors;return h.restore(),R}$_modify(u){return a.assertOptions(u,["each","once","ref","schema"]),i.schema(this,u)||this}$_mutateRebuild(){return l(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(u,{source:h,name:v,path:E,key:R})=>{const I=this._definition[h][v]&&this._definition[h][v].register;I!==!1&&this.$_mutateRegister(u,{family:I,key:R})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(u,{family:h,key:v}={}){this._refs.register(u,h),this._ids.register(u,{key:v})}$_property(u){return this._definition.properties[u]}$_reach(u){return this._ids.reach(u)}$_rootReferences(){return this._refs.roots()}$_setFlag(u,h,v={}){l(u[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const E=this._definition.flags[u]||{};if(y(h,E.default)&&(h=void 0),y(h,this._flags[u]))return this;const R=v.clone!==!1?this.clone():this;return h!==void 0?(R._flags[u]=h,R.$_mutateRegister(h)):delete R._flags[u],u[0]!=="_"&&(R.$_temp.ruleset=!1),R}$_parent(u,...h){return this[u][a.symbols.parent].call(this,...h)}$_validate(u,h,v){return d.validate(u,this,h,v)}_assign(u){u.type=this.type,u.$_root=this.$_root,u.$_temp=Object.assign({},this.$_temp),u.$_temp.whens={},u._ids=this._ids.clone(),u._preferences=this._preferences,u._valids=this._valids&&this._valids.clone(),u._invalids=this._invalids&&this._invalids.clone(),u._rules=this._rules.slice(),u._singleRules=g(this._singleRules,{shallow:!0}),u._refs=this._refs.clone(),u._flags=Object.assign({},this._flags),u._cache=null,u.$_terms={};for(const h in this.$_terms)u.$_terms[h]=this.$_terms[h]?this.$_terms[h].slice():null;u.$_super={};for(const h in this.$_super)u.$_super[h]=this._super[h].bind(u);return u}_bare(){const u=this.clone();u._reset();const h=u._definition.terms;for(const v in h){const E=h[v];u.$_terms[v]=E.init}return u.$_mutateRebuild()}_default(u,h,v={}){return a.assertOptions(v,"literal"),l(h!==void 0,"Missing",u,"value"),l(typeof h=="function"||!v.literal,"Only function value supports literal option"),typeof h=="function"&&v.literal&&(h={[a.symbols.literal]:!0,literal:h}),this.$_setFlag(u,h)}_generate(u,h,v){if(!this.$_terms.whens)return{schema:this};const E=[],R=[];for(let D=0;D<this.$_terms.whens.length;++D){const X=this.$_terms.whens[D];if(X.concat){E.push(X.concat),R.push(`${D}.concat`);continue}const Y=X.ref?X.ref.resolve(u,h,v):u,J=X.is?[X]:X.switch,re=R.length;for(let q=0;q<J.length;++q){const{is:Z,then:ae,otherwise:ce}=J[q],fe=`${D}${X.switch?"."+q:""}`;if(Z.$_match(Y,h.nest(Z,`${fe}.is`),v)){if(ae){const we=h.localize([...h.path,`${fe}.then`],h.ancestors,h.schemas),{schema:oe,id:me}=ae._generate(u,we,v);E.push(oe),R.push(`${fe}.then${me?`(${me})`:""}`);break}}else if(ce){const we=h.localize([...h.path,`${fe}.otherwise`],h.ancestors,h.schemas),{schema:oe,id:me}=ce._generate(u,we,v);E.push(oe),R.push(`${fe}.otherwise${me?`(${me})`:""}`);break}}if(X.break&&R.length>re)break}const I=R.join(", ");if(h.mainstay.tracer.debug(h,"rule","when",I),!I)return{schema:this};if(!h.mainstay.tracer.active&&this.$_temp.whens[I])return{schema:this.$_temp.whens[I],id:I};let k=this;this._definition.generate&&(k=this._definition.generate(this,u,h,v));for(const D of E)k=k.concat(D);return this.$_root._tracer&&this.$_root._tracer._combine(k,[this,...E]),this.$_temp.whens[I]=k,{schema:k,id:I}}_inner(u,h,v={}){l(!this._inRuleset(),`Cannot set ${u} inside a ruleset`);const E=this.clone();return E.$_terms[u]&&!v.override||(E.$_terms[u]=[]),v.single?E.$_terms[u].push(h):E.$_terms[u].push(...h),E.$_temp.ruleset=!1,E}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(u,h={}){if(!this._singleRules.has(u))return this;const v=h.clone!==!1?this.clone():this;v._singleRules.delete(u);const E=[];for(let R=0;R<v._rules.length;++R){const I=v._rules[R];I.name!==u||I.keep?E.push(I):v._inRuleset()&&R<v.$_temp.ruleset&&--v.$_temp.ruleset}return v._rules=E,v}_values(u,h){a.verifyFlat(u,h.slice(1,-1));const v=this.clone(),E=u[0]===a.symbols.override;if(E&&(u=u.slice(1)),!v[h]&&u.length?v[h]=new _:E&&(v[h]=u.length?new _:null,v.$_mutateRebuild()),!v[h])return v;E&&v[h].override();for(const R of u){l(R!==void 0,"Cannot call allow/valid/invalid with undefined"),l(R!==a.symbols.override,"Override must be the first value");const I=h==="_invalids"?"_valids":"_invalids";v[I]&&(v[I].remove(R),v[I].length||(l(h==="_valids"||!v._flags.only,"Setting invalid value",R,"leaves schema rejecting all values due to previous valid rule"),v[I]=null)),v[h].add(R,v._refs)}return v}get"~standard"(){const u=v=>{let E;return E=t.ValidationError.isError(v)?v.details.map(({message:R,path:I})=>({message:R,path:I})):[{message:v.message}],{issues:E}},h=v=>({value:v});return{version:1,vendor:"joi",validate:v=>{const E=d.standard(v,this);return E instanceof Promise?E.then(h,u):E.error?u(E.error):h(E.value)}}}}};A.Base.prototype[a.symbols.any]={version:a.version,compile:n.compile,root:"$_root"},A.Base.prototype.isImmutable=!0,A.Base.prototype.deny=A.Base.prototype.invalid,A.Base.prototype.disallow=A.Base.prototype.invalid,A.Base.prototype.equal=A.Base.prototype.valid,A.Base.prototype.exist=A.Base.prototype.required,A.Base.prototype.not=A.Base.prototype.invalid,A.Base.prototype.options=A.Base.prototype.prefs,A.Base.prototype.preferences=A.Base.prototype.prefs,w.exports=new A.Base},2130:(w,b,m)=>{const{assert:l,clone:g}=m(3115),y=m(9415),p={max:1e3,supported:new Set(["undefined","boolean","number","string"])};b.provider={provision:s=>new p.Cache(s)},p.Cache=class{constructor(s={}){y.assertOptions(s,["max"]),l(s.max===void 0||s.max&&s.max>0&&isFinite(s.max),"Invalid max cache size"),this._max=s.max||p.max,this._map=new Map,this._list=new p.List}get length(){return this._map.size}set(s,a){if(s!==null&&!p.supported.has(typeof s))return;let n=this._map.get(s);if(n)return n.value=a,void this._list.first(n);n=this._list.unshift({key:s,value:a}),this._map.set(s,n),this._compact()}get(s){const a=this._map.get(s);if(a)return this._list.first(a),g(a.value)}_compact(){if(this._map.size>this._max){const s=this._list.pop();this._map.delete(s.key)}}},p.List=class{constructor(){this.tail=null,this.head=null}unshift(s){return s.next=null,s.prev=this.head,this.head&&(this.head.next=s),this.head=s,this.tail||(this.tail=s),s}first(s){s!==this.head&&(this._remove(s),this.unshift(s))}pop(){return this._remove(this.tail)}_remove(s){const{next:a,prev:n}=s;return a.prev=n,n&&(n.next=a),s===this.tail&&(this.tail=a),s.prev=null,s.next=null,s}}},2588:(w,b,m)=>{const{assert:l}=m(3115),g=m(680),y=m(9415),p=m(1532),s={isDate:function(a){return a instanceof Date}};w.exports=g.extend({type:"date",coerce:{from:["number","string"],method:(a,{schema:n})=>({value:s.parse(a,n._flags.format)||a})},validate(a,{schema:n,error:t,prefs:e}){if(a instanceof Date&&!isNaN(a.getTime()))return;const o=n._flags.format;return e.convert&&o&&typeof a=="string"?{value:a,errors:t("date.format",{format:o})}:{value:a,errors:t("date.base")}},rules:{compare:{method:!1,validate(a,n,{date:t},{name:e,operator:o,args:r}){const i=t==="now"?Date.now():t.getTime();return y.compare(a.getTime(),i,o)?a:n.error("date."+e,{limit:r.date,value:a})},args:[{name:"date",ref:!0,normalize:a=>a==="now"?a:s.parse(a),assert:a=>a!==null,message:"must have a valid date format"}]},format:{method(a){return l(["iso","javascript","unix"].includes(a),"Unknown date format",a),this.$_setFlag("format",a)}},greater:{method(a){return this.$_addRule({name:"greater",method:"compare",args:{date:a},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(a){return this.$_addRule({name:"less",method:"compare",args:{date:a},operator:"<"})}},max:{method(a){return this.$_addRule({name:"max",method:"compare",args:{date:a},operator:"<="})}},min:{method(a){return this.$_addRule({name:"min",method:"compare",args:{date:a},operator:">="})}},timestamp:{method(a="javascript"){return l(["javascript","unix"].includes(a),'"type" must be one of "javascript, unix"'),this.format(a)}}},cast:{number:{from:s.isDate,to:(a,n)=>a.getTime()},string:{from:s.isDate,to:(a,{prefs:n})=>p.date(a,n)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),s.parse=function(a,n){if(a instanceof Date)return a;if(typeof a!="string"&&(isNaN(a)||!isFinite(a))||/^\s*$/.test(a))return null;if(n==="iso")return y.isIsoDate(a)?s.date(a.toString()):null;const t=a;if(typeof a=="string"&&/^[+-]?\d+(\.\d+)?$/.test(a)&&(a=parseFloat(a)),n){if(n==="javascript")return s.date(1*a);if(n==="unix")return s.date(1e3*a);if(typeof t=="string")return null}return s.date(a)},s.date=function(a){const n=new Date(a);return isNaN(n.getTime())?null:n}},2591:(w,b,m)=>{const{assert:l,deepEqual:g,reach:y}=m(3115),p=m(680),s=m(9415),a=m(3541),n={};w.exports=p.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(t,{schema:e,state:o,prefs:r}){if(!Array.isArray(t))return;const i=e.$_getRule("sort");return i?n.sort(e,t,i.args.options,o,r):void 0}},validate(t,{schema:e,error:o}){if(!Array.isArray(t)){if(e._flags.single){const r=[t];return r[s.symbols.arraySingle]=!0,{value:r}}return{errors:o("array.base")}}if(e.$_getRule("items")||e.$_terms.externals)return{value:t.slice()}},rules:{has:{method(t){t=this.$_compile(t,{appendPath:!0});const e=this.$_addRule({name:"has",args:{schema:t}});return e.$_mutateRegister(t),e},validate(t,{state:e,prefs:o,error:r},{schema:i}){const c=[t,...e.ancestors];for(let d=0;d<t.length;++d){const _=e.localize([...e.path,d],c,i);if(i.$_match(t[d],_,o))return t}const f=i._flags.label;return f?r("array.hasKnown",{patternLabel:f}):r("array.hasUnknown",null)},multi:!0},items:{method(...t){s.verifyFlat(t,"items");const e=this.$_addRule("items");for(let o=0;o<t.length;++o){const r=s.tryWithPath(()=>this.$_compile(t[o]),o,{append:!0});e.$_terms.items.push(r)}return e.$_mutateRebuild()},validate(t,{schema:e,error:o,state:r,prefs:i,errorsArray:c}){const f=e.$_terms._requireds.slice(),d=e.$_terms.ordered.slice(),_=[...e.$_terms._inclusions,...f],A=!t[s.symbols.arraySingle];delete t[s.symbols.arraySingle];const u=c();let h=t.length;for(let v=0;v<h;++v){const E=t[v];let R=!1,I=!1;const k=A?v:new Number(v),D=[...r.path,k];if(!e._flags.sparse&&E===void 0){if(u.push(o("array.sparse",{key:k,path:D,pos:v,value:void 0},r.localize(D))),i.abortEarly)return u;d.shift();continue}const X=[t,...r.ancestors];for(const q of e.$_terms._exclusions)if(q.$_match(E,r.localize(D,X,q),i,{presence:"ignore"})){if(u.push(o("array.excludes",{pos:v,value:E},r.localize(D))),i.abortEarly)return u;R=!0,d.shift();break}if(R)continue;if(e.$_terms.ordered.length){if(d.length){const q=d.shift(),Z=q.$_validate(E,r.localize(D,X,q),i);if(Z.errors){if(u.push(...Z.errors),i.abortEarly)return u}else if(q._flags.result==="strip")n.fastSplice(t,v),--v,--h;else{if(!e._flags.sparse&&Z.value===void 0){if(u.push(o("array.sparse",{key:k,path:D,pos:v,value:void 0},r.localize(D))),i.abortEarly)return u;continue}t[v]=Z.value}continue}if(!e.$_terms.items.length){if(u.push(o("array.orderedLength",{pos:v,limit:e.$_terms.ordered.length})),i.abortEarly)return u;break}}const Y=[];let J=f.length;for(let q=0;q<J;++q){const Z=r.localize(D,X,f[q]);Z.snapshot();const ae=f[q].$_validate(E,Z,i);if(Y[q]=ae,!ae.errors){if(Z.commit(),t[v]=ae.value,I=!0,n.fastSplice(f,q),--q,--J,!e._flags.sparse&&ae.value===void 0&&(u.push(o("array.sparse",{key:k,path:D,pos:v,value:void 0},r.localize(D))),i.abortEarly))return u;break}Z.restore()}if(I)continue;const re=i.stripUnknown&&!!i.stripUnknown.arrays||!1;J=_.length;for(const q of _){let Z;const ae=f.indexOf(q);if(ae!==-1)Z=Y[ae];else{const ce=r.localize(D,X,q);if(ce.snapshot(),Z=q.$_validate(E,ce,i),!Z.errors){ce.commit(),q._flags.result==="strip"?(n.fastSplice(t,v),--v,--h):e._flags.sparse||Z.value!==void 0?t[v]=Z.value:(u.push(o("array.sparse",{key:k,path:D,pos:v,value:void 0},r.localize(D))),R=!0),I=!0;break}ce.restore()}if(J===1){if(re){n.fastSplice(t,v),--v,--h,I=!0;break}if(u.push(...Z.errors),i.abortEarly)return u;R=!0;break}}if(!R&&(e.$_terms._inclusions.length||e.$_terms._requireds.length)&&!I){if(re){n.fastSplice(t,v),--v,--h;continue}if(u.push(o("array.includes",{pos:v,value:E},r.localize(D))),i.abortEarly)return u}}return f.length&&n.fillMissedErrors(e,u,f,t,r,i),d.length&&(n.fillOrderedErrors(e,u,d,t,r,i),u.length||n.fillDefault(d,t,r,i)),u.length?u:t},priority:!0,manifest:!1},length:{method(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:(t,e,{limit:o},{name:r,operator:i,args:c})=>s.compare(t.length,o,i)?t:e.error("array."+r,{limit:c.limit,value:t}),args:[{name:"limit",ref:!0,assert:s.limit,message:"must be a positive integer"}]},max:{method(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method(...t){s.verifyFlat(t,"ordered");const e=this.$_addRule("items");for(let o=0;o<t.length;++o){const r=s.tryWithPath(()=>this.$_compile(t[o]),o,{append:!0});n.validateSingle(r,e),e.$_mutateRegister(r),e.$_terms.ordered.push(r)}return e.$_mutateRebuild()}},single:{method(t){const e=t===void 0||!!t;return l(!e||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",e)}},sort:{method(t={}){s.assertOptions(t,["by","order"]);const e={order:t.order||"ascending"};return t.by&&(e.by=a.ref(t.by,{ancestor:0}),l(!e.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:e}})},validate(t,{error:e,state:o,prefs:r,schema:i},{options:c}){const{value:f,errors:d}=n.sort(i,t,c,o,r);if(d)return d;for(let _=0;_<t.length;++_)if(t[_]!==f[_])return e("array.sort",{order:c.order,by:c.by?c.by.key:"value"});return t},convert:!0},sparse:{method(t){const e=t===void 0||!!t;return this._flags.sparse===e?this:(e?this.clone():this.$_addRule("items")).$_setFlag("sparse",e,{clone:!1})}},unique:{method(t,e={}){l(!t||typeof t=="function"||typeof t=="string","comparator must be a function or a string"),s.assertOptions(e,["ignoreUndefined","separator"]);const o={name:"unique",args:{options:e,comparator:t}};if(t)if(typeof t=="string"){const r=s.default(e.separator,".");o.path=r?t.split(r):[t]}else o.comparator=t;return this.$_addRule(o)},validate(t,{state:e,error:o,schema:r},{comparator:i,options:c},{comparator:f,path:d}){const _={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},A=f||g,u=c.ignoreUndefined;for(let h=0;h<t.length;++h){const v=d?y(t[h],d):t[h],E=f?_.custom:_[typeof v];if(l(E,"Failed to find unique map container for type",typeof v),E instanceof Map){const R=E.entries();let I;for(;!(I=R.next()).done;)if(A(I.value[0],v)){const k=e.localize([...e.path,h],[t,...e.ancestors]),D={pos:h,value:t[h],dupePos:I.value[1],dupeValue:t[I.value[1]]};return d&&(D.path=i),o("array.unique",D,k)}E.set(v,h)}else{if((!u||v!==void 0)&&E[v]!==void 0){const R={pos:h,value:t[h],dupePos:E[v],dupeValue:t[E[v]]};return d&&(R.path=i),o("array.unique",R,e.localize([...e.path,h],[t,...e.ancestors]))}E[v]=h}}return t},args:["comparator","options"],multi:!0}},overrides:{isAsync(){var t;if((t=this.$_terms.externals)!==null&&t!==void 0&&t.length)return!0;for(const e of this.$_terms.items)if(e.isAsync())return!0;for(const e of this.$_terms.ordered)if(e.isAsync())return!0;return!1}},cast:{set:{from:Array.isArray,to:(t,e)=>new Set(t)}},rebuild(t){t.$_terms._inclusions=[],t.$_terms._exclusions=[],t.$_terms._requireds=[];for(const e of t.$_terms.items)n.validateSingle(e,t),e._flags.presence==="required"?t.$_terms._requireds.push(e):e._flags.presence==="forbidden"?t.$_terms._exclusions.push(e):t.$_terms._inclusions.push(e);for(const e of t.$_terms.ordered)n.validateSingle(e,t)},manifest:{build:(t,e)=>(e.items&&(t=t.items(...e.items)),e.ordered&&(t=t.ordered(...e.ordered)),t)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),n.fillMissedErrors=function(t,e,o,r,i,c){const f=[];let d=0;for(const _ of o){const A=_._flags.label;A?f.push(A):++d}f.length?d?e.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:f,unknownMisses:d},i,c)):e.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:f},i,c)):e.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:d},i,c))},n.fillOrderedErrors=function(t,e,o,r,i,c){const f=[];for(const d of o)d._flags.presence==="required"&&f.push(d);f.length&&n.fillMissedErrors(t,e,f,r,i,c)},n.fillDefault=function(t,e,o,r){const i=[];let c=!0;for(let f=t.length-1;f>=0;--f){const d=t[f],_=[e,...o.ancestors],A=d.$_validate(void 0,o.localize(o.path,_,d),r).value;if(c){if(A===void 0)continue;c=!1}i.unshift(A)}i.length&&e.push(...i)},n.fastSplice=function(t,e){let o=e;for(;o<t.length;)t[o++]=t[o];--t.length},n.validateSingle=function(t,e){(t.type==="array"||t._flags._arrayItems)&&(l(!e._flags.single,"Cannot specify array item with single rule enabled"),e.$_setFlag("_arrayItems",!0,{clone:!1}))},n.sort=function(t,e,o,r,i){const c=o.order==="ascending"?1:-1,f=-1*c,d=c,_=(A,u)=>{let h=n.compare(A,u,f,d);if(h!==null||(o.by&&(A=o.by.resolve(A,r,i),u=o.by.resolve(u,r,i)),h=n.compare(A,u,f,d),h!==null))return h;const v=typeof A;if(v!==typeof u)throw t.$_createError("array.sort.mismatching",e,null,r,i);if(v!=="number"&&v!=="string")throw t.$_createError("array.sort.unsupported",e,{type:v},r,i);return v==="number"?(A-u)*c:A<u?f:d};try{return{value:e.slice().sort(_)}}catch(A){return{errors:A}}},n.compare=function(t,e,o,r){return t===e?0:t===void 0?1:e===void 0?-1:t===null?r:e===null?o:null}},2847:(w,b,m)=>{const l=m(8253),g=m(7125),y=m(8669),p=m(86),s={};w.exports=function(a,n,t={}){return typeof n!="object"&&(n=[n]),l(!Array.isArray(n)||n.length,"Values array cannot be empty"),typeof a=="string"?s.string(a,n,t):Array.isArray(a)?s.array(a,n,t):(l(typeof a=="object","Reference must be string or an object"),s.object(a,n,t))},s.array=function(a,n,t){if(Array.isArray(n)||(n=[n]),!a.length||t.only&&t.once&&a.length!==n.length)return!1;let e;const o=new Map;for(const i of n)if(t.deep&&i&&typeof i=="object"){e=e??s.compare(t);let c=!1;for(const[f,d]of o.entries())if(e(f,i)){++d.allowed,c=!0;break}c||o.set(i,{allowed:1,hits:0})}else{const c=o.get(i);c?++c.allowed:o.set(i,{allowed:1,hits:0})}let r=0;for(const i of a){let c;if(t.deep&&i&&typeof i=="object"){e=e??s.compare(t);for(const[f,d]of o.entries())if(e(f,i)){c=d;break}}else c=o.get(i);if(c&&(++c.hits,++r,t.once&&c.hits>c.allowed))return!1}if(t.only&&r!==a.length)return!1;for(const i of o.values())if(i.hits!==i.allowed&&i.hits<i.allowed&&!t.part)return!1;return!!r},s.object=function(a,n,t){l(t.once===void 0,"Cannot use option once with object");const e=p.keys(a,t);if(!e.length)return!1;if(Array.isArray(n))return s.array(e,n,t);const o=Object.getOwnPropertySymbols(n).filter(f=>n.propertyIsEnumerable(f)),r=[...Object.keys(n),...o],i=s.compare(t),c=new Set(r);for(const f of e)if(c.has(f)){if(!i(n[f],a[f]))return!1;c.delete(f)}else if(t.only)return!1;return!c.size||!!t.part&&c.size<r.length},s.string=function(a,n,t){if(a==="")return n.length===1&&n[0]===""||!t.once&&!n.some(f=>f!=="");const e=new Map,o=[];for(const f of n)if(l(typeof f=="string","Cannot compare string reference to non-string value"),f){const d=e.get(f);d?++d.allowed:(e.set(f,{allowed:1,hits:0}),o.push(y(f)))}else if(t.once||t.only)return!1;if(!o.length)return!0;const r=new RegExp(`(${o.join("|")})`,"g"),i=a.replace(r,(f,d)=>(++e.get(d).hits,""));if(t.only&&i)return!1;let c=!1;for(const f of e.values())if(f.hits&&(c=!0),f.hits!==f.allowed&&(f.hits<f.allowed&&!t.part||t.once))return!1;return!!c},s.compare=function(a){if(!a.deep)return s.shallow;const n=a.only!==void 0,t=a.part!==void 0,e={prototype:n?a.only:!!t&&!a.part,part:n?!a.only:!!t&&a.part};return(o,r)=>g(o,r,e)},s.shallow=function(a,n){return a===n}},2888:(w,b,m)=>{const{applyToDefaults:l,assert:g,clone:y}=m(3115),p=m(8248),s=m(680),a=m(9415),n=m(3541),t=m(8013),e=m(8529),o=m(1532),r={renameDefaults:{alias:!1,multiple:!1,override:!1}};w.exports=s.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(i,c)=>i.keys(c),validate(i,{schema:c,error:f,state:d,prefs:_}){if(!i||typeof i!==c.$_property("typeof")||Array.isArray(i))return{value:i,errors:f("object.base",{type:c.$_property("typeof")})};if(!(c.$_terms.renames||c.$_terms.dependencies||c.$_terms.keys||c.$_terms.patterns||c.$_terms.externals))return;i=r.clone(i,_);const A=[];if(c.$_terms.renames&&!r.rename(c,i,d,_,A))return{value:i,errors:A};if(!c.$_terms.keys&&!c.$_terms.patterns&&!c.$_terms.dependencies)return{value:i,errors:A};const u=new Set(Object.keys(i));if(c.$_terms.keys){const h=[i,...d.ancestors];for(const v of c.$_terms.keys){const E=v.key,R=i[E];u.delete(E);const I=d.localize([...d.path,E],h,v),k=v.schema.$_validate(R,I,_);if(k.errors){if(_.abortEarly)return{value:i,errors:k.errors};k.value!==void 0&&(i[E]=k.value),A.push(...k.errors)}else v.schema._flags.result==="strip"||k.value===void 0&&R!==void 0?delete i[E]:k.value!==void 0&&(i[E]=k.value)}}if(u.size||c._flags._hasPatternMatch){const h=r.unknown(c,i,u,A,d,_);if(h)return h}if(c.$_terms.dependencies)for(const h of c.$_terms.dependencies){if(h.key!==null&&r.isPresent(h.options)(h.key.resolve(i,d,_,null,{shadow:!1}))===!1)continue;const v=r.dependencies[h.rel](c,h,i,d,_);if(v){const E=c.$_createError(v.code,i,v.context,d,_);if(_.abortEarly)return{value:i,errors:E};A.push(E)}}return{value:i,errors:A}},rules:{and:{method(...i){return a.verifyFlat(i,"and"),r.dependency(this,"and",null,i)}},append:{method(i){return i==null||Object.keys(i).length===0?this:this.keys(i)}},assert:{method(i,c,f){o.isTemplate(i)||(i=n.ref(i)),g(f===void 0||typeof f=="string","Message must be a string"),c=this.$_compile(c,{appendPath:!0});const d=this.$_addRule({name:"assert",args:{subject:i,schema:c,message:f}});return d.$_mutateRegister(i),d.$_mutateRegister(c),d},validate(i,{error:c,prefs:f,state:d},{subject:_,schema:A,message:u}){const h=_.resolve(i,d,f),v=e.isRef(_)?_.absolute(d):[];return A.$_match(h,d.localize(v,[i,...d.ancestors],A),f)?i:c("object.assert",{subject:_,message:u})},args:["subject","schema","message"],multi:!0},instance:{method(i,c){return g(typeof i=="function","constructor must be a function"),c=c||i.name,this.$_addRule({name:"instance",args:{constructor:i,name:c}})},validate:(i,c,{constructor:f,name:d})=>i instanceof f?i:c.error("object.instance",{type:d,value:i}),args:["constructor","name"]},keys:{method(i){g(i===void 0||typeof i=="object","Object schema must be a valid object"),g(!a.isSchema(i),"Object schema cannot be a joi schema");const c=this.clone();if(i)if(Object.keys(i).length){c.$_terms.keys=c.$_terms.keys?c.$_terms.keys.filter(f=>!i.hasOwnProperty(f.key)):new r.Keys;for(const f in i)a.tryWithPath(()=>c.$_terms.keys.push({key:f,schema:this.$_compile(i[f])}),f)}else c.$_terms.keys=new r.Keys;else c.$_terms.keys=null;return c.$_mutateRebuild()}},length:{method(i){return this.$_addRule({name:"length",args:{limit:i},operator:"="})},validate:(i,c,{limit:f},{name:d,operator:_,args:A})=>a.compare(Object.keys(i).length,f,_)?i:c.error("object."+d,{limit:A.limit,value:i}),args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(i){return this.$_addRule({name:"max",method:"length",args:{limit:i},operator:"<="})}},min:{method(i){return this.$_addRule({name:"min",method:"length",args:{limit:i},operator:">="})}},nand:{method(...i){return a.verifyFlat(i,"nand"),r.dependency(this,"nand",null,i)}},or:{method(...i){return a.verifyFlat(i,"or"),r.dependency(this,"or",null,i)}},oxor:{method(...i){return r.dependency(this,"oxor",null,i)}},pattern:{method(i,c,f={}){const d=i instanceof RegExp;d||(i=this.$_compile(i,{appendPath:!0})),g(c!==void 0,"Invalid rule"),a.assertOptions(f,["fallthrough","matches"]),d&&g(!i.flags.includes("g")&&!i.flags.includes("y"),"pattern should not use global or sticky mode"),c=this.$_compile(c,{appendPath:!0});const _=this.clone();_.$_terms.patterns=_.$_terms.patterns||[];const A={[d?"regex":"schema"]:i,rule:c};return f.matches&&(A.matches=this.$_compile(f.matches),A.matches.type!=="array"&&(A.matches=A.matches.$_root.array().items(A.matches)),_.$_mutateRegister(A.matches),_.$_setFlag("_hasPatternMatch",!0,{clone:!1})),f.fallthrough&&(A.fallthrough=!0),_.$_terms.patterns.push(A),_.$_mutateRegister(c),_}},ref:{method(){return this.$_addRule("ref")},validate:(i,c)=>e.isRef(i)?i:c.error("object.refType",{value:i})},regex:{method(){return this.$_addRule("regex")},validate:(i,c)=>i instanceof RegExp?i:c.error("object.regex",{value:i})},rename:{method(i,c,f={}){g(typeof i=="string"||i instanceof RegExp,"Rename missing the from argument"),g(typeof c=="string"||c instanceof o,"Invalid rename to argument"),g(c!==i,"Cannot rename key to same name:",i),a.assertOptions(f,["alias","ignoreUndefined","override","multiple"]);const d=this.clone();d.$_terms.renames=d.$_terms.renames||[];for(const _ of d.$_terms.renames)g(_.from!==i,"Cannot rename the same key multiple times");return c instanceof o&&d.$_mutateRegister(c),d.$_terms.renames.push({from:i,to:c,options:l(r.renameDefaults,f)}),d}},schema:{method(i="any"){return this.$_addRule({name:"schema",args:{type:i}})},validate:(i,c,{type:f})=>!a.isSchema(i)||f!=="any"&&i.type!==f?c.error("object.schema",{type:f}):i},unknown:{method(i){return this.$_setFlag("unknown",i!==!1)}},with:{method(i,c,f={}){return r.dependency(this,"with",i,c,f)}},without:{method(i,c,f={}){return r.dependency(this,"without",i,c,f)}},xor:{method(...i){return a.verifyFlat(i,"xor"),r.dependency(this,"xor",null,i)}}},overrides:{default(i,c){return i===void 0&&(i=a.symbols.deepDefault),this.$_parent("default",i,c)},isAsync(){var i,c,f;if((i=this.$_terms.externals)!==null&&i!==void 0&&i.length)return!0;if((c=this.$_terms.keys)!==null&&c!==void 0&&c.length){for(const d of this.$_terms.keys)if(d.schema.isAsync())return!0}if((f=this.$_terms.patterns)!==null&&f!==void 0&&f.length){for(const d of this.$_terms.patterns)if(d.rule.isAsync())return!0}return!1}},rebuild(i){if(i.$_terms.keys){const c=new p.Sorter;for(const f of i.$_terms.keys)a.tryWithPath(()=>c.add(f,{after:f.schema.$_rootReferences(),group:f.key}),f.key);i.$_terms.keys=new r.Keys(...c.nodes)}},manifest:{build(i,c){if(c.keys&&(i=i.keys(c.keys)),c.dependencies)for(const{rel:f,key:d=null,peers:_,options:A}of c.dependencies)i=r.dependency(i,f,d,_,A);if(c.patterns)for(const{regex:f,schema:d,rule:_,fallthrough:A,matches:u}of c.patterns)i=i.pattern(f||d,_,{fallthrough:A,matches:u});if(c.renames)for(const{from:f,to:d,options:_}of c.renames)i=i.rename(f,d,_);return i}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),r.clone=function(i,c){if(typeof i=="object"){if(c.nonEnumerables)return y(i,{shallow:!0});const d=Object.create(Object.getPrototypeOf(i));return Object.assign(d,i),d}const f=function(...d){return i.apply(this,d)};return f.prototype=y(i.prototype),Object.defineProperty(f,"name",{value:i.name,writable:!1}),Object.defineProperty(f,"length",{value:i.length,writable:!1}),Object.assign(f,i),f},r.dependency=function(i,c,f,d,_){g(f===null||typeof f=="string",c,"key must be a strings"),_||(_=d.length>1&&typeof d[d.length-1]=="object"?d.pop():{}),a.assertOptions(_,["separator","isPresent"]),d=[].concat(d);const A=a.default(_.separator,"."),u=[];for(const v of d)g(typeof v=="string",c,"peers must be strings"),u.push(n.ref(v,{separator:A,ancestor:0,prefix:!1}));f!==null&&(f=n.ref(f,{separator:A,ancestor:0,prefix:!1}));const h=i.clone();return h.$_terms.dependencies=h.$_terms.dependencies||[],h.$_terms.dependencies.push(new r.Dependency(c,f,u,d,_)),h},r.dependencies={and(i,c,f,d,_){const A=[],u=[],h=c.peers.length,v=r.isPresent(c.options);for(const E of c.peers)v(E.resolve(f,d,_,null,{shadow:!1}))===!1?A.push(E.key):u.push(E.key);if(A.length!==h&&u.length!==h)return{code:"object.and",context:{present:u,presentWithLabels:r.keysToLabels(i,u),missing:A,missingWithLabels:r.keysToLabels(i,A)}}},nand(i,c,f,d,_){const A=[],u=r.isPresent(c.options);for(const E of c.peers)u(E.resolve(f,d,_,null,{shadow:!1}))&&A.push(E.key);if(A.length!==c.peers.length)return;const h=c.paths[0],v=c.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:r.keysToLabels(i,h),peers:v,peersWithLabels:r.keysToLabels(i,v)}}},or(i,c,f,d,_){const A=r.isPresent(c.options);for(const u of c.peers)if(A(u.resolve(f,d,_,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:c.paths,peersWithLabels:r.keysToLabels(i,c.paths)}}},oxor(i,c,f,d,_){const A=[],u=r.isPresent(c.options);for(const v of c.peers)u(v.resolve(f,d,_,null,{shadow:!1}))&&A.push(v.key);if(!A.length||A.length===1)return;const h={peers:c.paths,peersWithLabels:r.keysToLabels(i,c.paths)};return h.present=A,h.presentWithLabels=r.keysToLabels(i,A),{code:"object.oxor",context:h}},with(i,c,f,d,_){const A=r.isPresent(c.options);for(const u of c.peers)if(A(u.resolve(f,d,_,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:c.key.key,mainWithLabel:r.keysToLabels(i,c.key.key),peer:u.key,peerWithLabel:r.keysToLabels(i,u.key)}}},without(i,c,f,d,_){const A=r.isPresent(c.options);for(const u of c.peers)if(A(u.resolve(f,d,_,null,{shadow:!1})))return{code:"object.without",context:{main:c.key.key,mainWithLabel:r.keysToLabels(i,c.key.key),peer:u.key,peerWithLabel:r.keysToLabels(i,u.key)}}},xor(i,c,f,d,_){const A=[],u=r.isPresent(c.options);for(const v of c.peers)u(v.resolve(f,d,_,null,{shadow:!1}))&&A.push(v.key);if(A.length===1)return;const h={peers:c.paths,peersWithLabels:r.keysToLabels(i,c.paths)};return A.length===0?{code:"object.missing",context:h}:(h.present=A,h.presentWithLabels=r.keysToLabels(i,A),{code:"object.xor",context:h})}},r.keysToLabels=function(i,c){return Array.isArray(c)?c.map(f=>i.$_mapLabels(f)):i.$_mapLabels(c)},r.isPresent=function(i){return typeof i.isPresent=="function"?i.isPresent:c=>c!==void 0},r.rename=function(i,c,f,d,_){const A={};for(const u of i.$_terms.renames){const h=[],v=typeof u.from!="string";if(v)for(const E in c){if(c[E]===void 0&&u.options.ignoreUndefined||E===u.to)continue;const R=u.from.exec(E);R&&h.push({from:E,to:u.to,match:R})}else!Object.prototype.hasOwnProperty.call(c,u.from)||c[u.from]===void 0&&u.options.ignoreUndefined||h.push(u);for(const E of h){const R=E.from;let I=E.to;if(I instanceof o&&(I=I.render(c,f,d,E.match)),R!==I){if(!u.options.multiple&&A[I]&&(_.push(i.$_createError("object.rename.multiple",c,{from:R,to:I,pattern:v},f,d)),d.abortEarly)||Object.prototype.hasOwnProperty.call(c,I)&&!u.options.override&&!A[I]&&(_.push(i.$_createError("object.rename.override",c,{from:R,to:I,pattern:v},f,d)),d.abortEarly))return!1;c[R]===void 0?delete c[I]:c[I]=c[R],A[I]=!0,u.options.alias||delete c[R]}}}return!0},r.unknown=function(i,c,f,d,_,A){if(i.$_terms.patterns){let u=!1;const h=i.$_terms.patterns.map(E=>{if(E.matches)return u=!0,[]}),v=[c,..._.ancestors];for(const E of f){const R=c[E],I=[..._.path,E];for(let k=0;k<i.$_terms.patterns.length;++k){const D=i.$_terms.patterns[k];if(D.regex){const J=D.regex.test(E);if(_.mainstay.tracer.debug(_,"rule",`pattern.${k}`,J?"pass":"error"),!J)continue}else if(!D.schema.$_match(E,_.nest(D.schema,`pattern.${k}`),A))continue;f.delete(E);const X=_.localize(I,v,{schema:D.rule,key:E}),Y=D.rule.$_validate(R,X,A);if(Y.errors){if(A.abortEarly)return{value:c,errors:Y.errors};d.push(...Y.errors)}if(D.matches&&h[k].push(E),c[E]=Y.value,!D.fallthrough)break}}if(u)for(let E=0;E<h.length;++E){const R=h[E];if(!R)continue;const I=i.$_terms.patterns[E].matches,k=_.localize(_.path,v,I),D=I.$_validate(R,k,A);if(D.errors){const X=t.details(D.errors,{override:!1});X.matches=R;const Y=i.$_createError("object.pattern.match",c,X,_,A);if(A.abortEarly)return{value:c,errors:Y};d.push(Y)}}}if(f.size&&(i.$_terms.keys||i.$_terms.patterns)){if(A.stripUnknown&&i._flags.unknown===void 0||A.skipFunctions){const u=!(!A.stripUnknown||A.stripUnknown!==!0&&!A.stripUnknown.objects);for(const h of f)u?(delete c[h],f.delete(h)):typeof c[h]=="function"&&f.delete(h)}if(!a.default(i._flags.unknown,A.allowUnknown))for(const u of f){const h=_.localize([..._.path,u],[]),v=i.$_createError("object.unknown",c[u],{child:u},h,A,{flags:!1});if(A.abortEarly)return{value:c,errors:v};d.push(v)}}},r.Dependency=class{constructor(i,c,f,d,_){this.rel=i,this.key=c,this.peers=f,this.paths=d,this.options=_}describe(){const i={rel:this.rel,peers:this.paths};return this.key!==null&&(i.key=this.key.key),this.peers[0].separator!=="."&&(i.options={...i.options,separator:this.peers[0].separator}),this.options.isPresent&&(i.options={...i.options,isPresent:this.options.isPresent}),i}},r.Keys=class extends Array{concat(i){const c=this.slice(),f=new Map;for(let d=0;d<c.length;++d)f.set(c[d].key,d);for(const d of i){const _=d.key,A=f.get(_);A!==void 0?c[A]={key:_,schema:c[A].schema.concat(d.schema)}:c.push(d)}return c}}},3110:w=>{const b={};w.exports=function(m,l,g={}){if(!m||!l)return g.first?null:[];const y=[],p=Array.isArray(m)?new Set(m):m,s=new Set;for(const a of l)if(b.has(p,a)&&!s.has(a)){if(g.first)return a;y.push(a),s.add(a)}return g.first?null:y},b.has=function(m,l){return typeof m.has=="function"?m.has(l):m[l]!==void 0}},3115:(w,b,m)=>{b.applyToDefaults=m(6084),b.assert=m(8253),b.AssertError=m(1803),b.Bench=m(9145),b.block=m(3386),b.clone=m(4126),b.contain=m(2847),b.deepEqual=m(7125),b.escapeHeaderAttribute=m(9241),b.escapeHtml=m(8121),b.escapeJson=m(5570),b.escapeRegex=m(8669),b.flatten=m(5553),b.ignore=m(9725),b.intersect=m(3110),b.isPromise=m(834),b.merge=m(9315),b.once=m(8762),b.reach=m(1528),b.reachTemplate=m(1626),b.stringify=m(8314),b.wait=m(7858)},3305:(w,b,m)=>{m.r(b),m.d(b,{analyzeDomain:()=>i,analyzeEmail:()=>u,errorCodes:()=>g,ipRegex:()=>fe,isDomainValid:()=>c,isEmailValid:()=>h,uriDecode:()=>me,uriRegex:()=>ce,validateDomainOptions:()=>f});var l=m(8663);const g={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"};function y(O){return{code:O,error:g[O]}}const p=2,s=/[^\x00-\x7f]/,a=/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,n=/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,t=/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,e=/^[a-zA-Z0-9_](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,o=l.URL||URL;function r(O){return!!O.allow}function i(O,$={}){if(!O)return y("DOMAIN_NON_EMPTY_STRING");if(typeof O!="string")throw new Error("Invalid input: domain must be a string");if(O.length>256)return y("DOMAIN_TOO_LONG");if(s.test(O)){if($.allowUnicode===!1)return y("DOMAIN_INVALID_UNICODE_CHARS");O=O.normalize("NFC")}if(a.test(O))return y("DOMAIN_INVALID_CHARS");O=(function(U){U.includes("%")&&(U=U.replace(/%/g,"%25"));try{return new o(`http://${U}`).host}catch{return U}})(O),$.allowFullyQualified&&O[O.length-1]==="."&&(O=O.slice(0,-1));const j=$.minDomainSegments||p,H=O.split(".");if(H.length<j)return y("DOMAIN_SEGMENTS_COUNT");if($.maxDomainSegments&&H.length>$.maxDomainSegments)return y("DOMAIN_SEGMENTS_COUNT_MAX");const K=$.tlds;if(K){const U=H[H.length-1].toLowerCase();if(r(K)){if(!K.allow.has(U))return y("DOMAIN_FORBIDDEN_TLDS")}else if(K.deny.has(U))return y("DOMAIN_FORBIDDEN_TLDS")}for(let U=0;U<H.length;++U){const V=H[U];if(!V.length)return y("DOMAIN_EMPTY_SEGMENT");if(V.length>63)return y("DOMAIN_LONG_SEGMENT");if(U<H.length-1){if($.allowUnderscore){if(!e.test(V))return y("DOMAIN_INVALID_CHARS")}else if(!t.test(V))return y("DOMAIN_INVALID_CHARS")}else if(!n.test(V))return y("DOMAIN_INVALID_TLDS_CHARS")}return null}function c(O,$){return!i(O,$)}function f(O){if(O){if(typeof O.tlds!="object")throw new Error("Invalid options: tlds must be a boolean or an object");if(r(O.tlds)){if(O.tlds.allow instanceof Set==0)throw new Error("Invalid options: tlds.allow must be a Set object or true");if(O.tlds.deny)throw new Error("Invalid options: cannot specify both tlds.allow and tlds.deny lists")}else if(O.tlds.deny instanceof Set==0)throw new Error("Invalid options: tlds.deny must be a Set object")}}var d=m(6984);const _=/[^\x00-\x7f]/,A=new(d.TextEncoder||TextEncoder);function u(O,$){return v(O,$)}function h(O,$){return!v(O,$)}function v(O,$={}){if(typeof O!="string")throw new Error("Invalid input: email must be a string");if(!O)return y("EMPTY_STRING");const j=!_.test(O);if(!j){if($.allowUnicode===!1)return y("FORBIDDEN_UNICODE");O=O.normalize("NFC")}const H=O.split("@");if(H.length!==2)return H.length>2?y("MULTIPLE_AT_CHAR"):y("MISSING_AT_CHAR");const[K,U]=H;if(!K)return y("EMPTY_LOCAL");if(!$.ignoreLength){if(O.length>254)return y("ADDRESS_TOO_LONG");if(A.encode(K).length>64)return y("LOCAL_TOO_LONG")}return(function(V,le){const te=V.split(".");for(const W of te){if(!W.length)return y("EMPTY_LOCAL_SEGMENT");if(le){if(!R.test(W))return y("INVALID_LOCAL_CHARS")}else for(const de of W){if(R.test(de))continue;const ze=E(de);if(!I.test(ze))return y("INVALID_LOCAL_CHARS")}}return null})(K,j)||i(U,$)}function E(O){return Array.from(A.encode(O),$=>String.fromCharCode($)).join("")}const R=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,I=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"));var k=m(8253),D=m.n(k),X=m(8669),Y=m.n(X);const J=(function(){const O={},$="\\dA-Fa-f",j="["+$+"]",H="\\w-\\.~",K="!\\$&'\\(\\)\\*\\+,;=",U="%"+$,V=H+U+K+":@",le="["+V+"]",te="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";O.ipv4address="(?:"+te+"\\.){3}"+te;const W=j+"{1,4}",de="(?:"+W+":"+W+"|"+O.ipv4address+")",ze="(?:"+W+":){6}"+de,Rt="::(?:"+W+":){5}"+de,It="(?:"+W+")?::(?:"+W+":){4}"+de,Nt="(?:(?:"+W+":){0,1}"+W+")?::(?:"+W+":){3}"+de,$t="(?:(?:"+W+":){0,2}"+W+")?::(?:"+W+":){2}"+de,Tt="(?:(?:"+W+":){0,3}"+W+")?::"+W+":"+de,xt="(?:(?:"+W+":){0,4}"+W+")?::"+de,Ct="(?:(?:"+W+":){0,5}"+W+")?::"+W,Lt="(?:(?:"+W+":){0,6}"+W+")?::";O.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",O.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",O.ipv6address="(?:"+ze+"|"+Rt+"|"+It+"|"+Nt+"|"+$t+"|"+Tt+"|"+xt+"|"+Ct+"|"+Lt+")",O.ipvFuture="v"+j+"+\\.["+H+K+":]+",O.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",O.schemeRegex=new RegExp(O.scheme);const it="["+H+U+K+":]*",kt="["+H+U+K+"]{1,255}",ot="(?:\\[(?:"+O.ipv6address+"|"+O.ipvFuture+")\\]|"+O.ipv4address+"|"+kt+")",lt="(?:"+it+"@)?"+ot+"(?::\\d*)?",ct="(?:"+it+"@)?("+ot+")(?::\\d*)?",ut=le+"*",ft=le+"+",ye="(?:\\/"+ut+")*",Ue="\\/(?:"+ft+ye+")?",dt=ft+ye,ht="["+H+U+K+"@]+"+ye,Dt="(?:\\/\\/\\/"+ut+ye+")";return O.hierPart="(?:(?:\\/\\/"+lt+ye+")|"+Ue+"|"+dt+"|"+Dt+")",O.hierPartCapture="(?:(?:\\/\\/"+ct+ye+")|"+Ue+"|"+dt+")",O.relativeRef="(?:(?:\\/\\/"+lt+ye+")|"+Ue+"|"+ht+"|)",O.relativeRefCapture="(?:(?:\\/\\/"+ct+ye+")|"+Ue+"|"+ht+"|)",O.query="["+V+"\\/\\?]*(?=#|$)",O.queryWithSquareBrackets="["+V+"\\[\\]\\/\\?]*(?=#|$)",O.fragment="["+V+"\\/\\?]*",O})(),re={v4Cidr:J.ipv4Cidr,v6Cidr:J.ipv6Cidr,ipv4:J.ipv4address,ipv6:J.ipv6address,ipvfuture:J.ipvFuture};function q(O){const $=J,j="(?:\\?"+(O.allowQuerySquareBrackets?$.queryWithSquareBrackets:$.query)+")?(?:#"+$.fragment+")?",H=O.domain?$.relativeRefCapture:$.relativeRef;if(O.relativeOnly)return Z(H+j);let K="";if(O.scheme){D()(O.scheme instanceof RegExp||typeof O.scheme=="string"||Array.isArray(O.scheme),"scheme must be a RegExp, String, or Array");const V=[].concat(O.scheme);D()(V.length>=1,"scheme must have at least 1 scheme specified");const le=[];for(let te=0;te<V.length;++te){const W=V[te];D()(W instanceof RegExp||typeof W=="string","scheme at position "+te+" must be a RegExp or String"),W instanceof RegExp?le.push(W.source.toString()):(D()($.schemeRegex.test(W),"scheme at position "+te+" must be a valid scheme"),le.push(Y()(W)))}K=le.join("|")}const U="(?:"+(K?"(?:"+K+")":$.scheme)+":"+(O.domain?$.hierPartCapture:$.hierPart)+")";return Z((O.allowRelative?"(?:"+U+"|"+H+")":U)+j,K)}function Z(O,$=null){return{raw:O=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${O}`,regex:new RegExp(`^${O}$`),scheme:$}}const ae=q({});function ce(O={}){return O.scheme||O.allowRelative||O.relativeOnly||O.allowQuerySquareBrackets||O.domain?q(O):ae}function fe(O={}){const $=O.cidr||"optional";D()(["required","optional","forbidden"].includes($),"options.cidr must be one of required, optional, forbidden"),D()(O.version===void 0||typeof O.version=="string"||Array.isArray(O.version),"options.version must be a string or an array of string");let j=O.version||["ipv4","ipv6","ipvfuture"];Array.isArray(j)||(j=[j]),D()(j.length>=1,"options.version must have at least 1 version specified");for(const U of j)D()(typeof U=="string"&&U===U.toLowerCase(),"Invalid options.version value"),D()(["ipv4","ipv6","ipvfuture"].includes(U),"options.version contains unknown version "+U+" - must be one of ipv4, ipv6, ipvfuture");j=Array.from(new Set(j));const H=`(?:${j.map(U=>{if($==="forbidden")return re[U];const V=`\\/${U==="ipv4"?re.v4Cidr:re.v6Cidr}`;return $==="required"?`${re[U]}${V}`:`${re[U]}(?:${V})?`}).join("|")})`,K=new RegExp(`^${H}$`);return{cidr:$,versions:j,regex:K,raw:H}}const we={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},oe={accept:12,reject:0,data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7]};function me(O){let $=O.indexOf("%");if($===-1)return O;let j="",H=0,K=0,U=$,V=oe.accept;for(;$>-1&&$<O.length;){const le=Be(O[$+1],4)|Be(O[$+2],0),te=oe.data[le];if(V=oe.data[256+V+te],K=K<<6|le&oe.data[364+te],V!==oe.accept){if(V===oe.reject||($+=3,$>=O.length||O[$]!=="%"))return null}else j+=O.slice(H,U),j+=K<=65535?String.fromCharCode(K):String.fromCharCode(55232+(K>>10),56320+(1023&K)),K=0,H=$+3,$=O.indexOf("%",H),U=$}return j+O.slice(H)}function Be(O,$){const j=we[O];return j===void 0?255:j<<$}},3386:(w,b,m)=>{const l=m(9725);w.exports=function(){return new Promise(l)}},3541:(w,b,m)=>{const{assert:l}=m(3115),g=m(9415),y=m(8529),p={};b.schema=function(s,a,n={}){g.assertOptions(n,["appendPath","override"]);try{return p.schema(s,a,n)}catch(t){throw n.appendPath&&t.path!==void 0&&(t.message=`${t.message} (${t.path})`),t}},p.schema=function(s,a,n){l(a!==void 0,"Invalid undefined schema"),Array.isArray(a)&&(l(a.length,"Invalid empty array schema"),a.length===1&&(a=a[0]));const t=(e,...o)=>n.override!==!1?e.valid(s.override,...o):e.valid(...o);if(p.simple(a))return t(s,a);if(typeof a=="function")return s.custom(a);if(l(typeof a=="object","Invalid schema content:",typeof a),g.isResolvable(a))return t(s,a);if(g.isSchema(a))return a;if(Array.isArray(a)){for(const e of a)if(!p.simple(e))return s.alternatives().try(...a);return t(s,...a)}return a instanceof RegExp?s.string().regex(a):a instanceof Date?t(s.date(),a):(l(Object.getPrototypeOf(a)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),s.object().keys(a))},b.ref=function(s,a){return y.isRef(s)?s:y.create(s,a)},b.compile=function(s,a,n={}){g.assertOptions(n,["legacy"]);const t=a&&a[g.symbols.any];if(t)return l(n.legacy||t.version===g.version,"Cannot mix different versions of joi schemas:",t.version,g.version),a;if(typeof a!="object"||!n.legacy)return b.schema(s,a,{appendPath:!0});const e=p.walk(a);return e?e.compile(e.root,a):b.schema(s,a,{appendPath:!0})},p.walk=function(s){if(typeof s!="object")return null;if(Array.isArray(s)){for(const n of s){const t=p.walk(n);if(t)return t}return null}const a=s[g.symbols.any];if(a)return{root:s[a.root],compile:a.compile};l(Object.getPrototypeOf(s)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const n in s){const t=p.walk(s[n]);if(t)return t}return null},p.simple=function(s){return s===null||["boolean","string","number"].includes(typeof s)},b.when=function(s,a,n){if(n===void 0&&(l(a&&typeof a=="object","Missing options"),n=a,a=y.create(".")),Array.isArray(n)&&(n={switch:n}),g.assertOptions(n,["is","not","then","otherwise","switch","break"]),g.isSchema(a))return l(n.is===void 0,'"is" can not be used with a schema condition'),l(n.not===void 0,'"not" can not be used with a schema condition'),l(n.switch===void 0,'"switch" can not be used with a schema condition'),p.condition(s,{is:a,then:n.then,otherwise:n.otherwise,break:n.break});if(l(y.isRef(a)||typeof a=="string","Invalid condition:",a),l(n.not===void 0||n.is===void 0,'Cannot combine "is" with "not"'),n.switch===void 0){let e=n;n.not!==void 0&&(e={is:n.not,then:n.otherwise,otherwise:n.then,break:n.break});let o=e.is!==void 0?s.$_compile(e.is):s.$_root.invalid(null,!1,0,"").required();return l(e.then!==void 0||e.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),l(e.break===void 0||e.then===void 0||e.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),n.is===void 0||y.isRef(n.is)||g.isSchema(n.is)||(o=o.required()),p.condition(s,{ref:b.ref(a),is:o,then:e.then,otherwise:e.otherwise,break:e.break})}l(Array.isArray(n.switch),'"switch" must be an array'),l(n.is===void 0,'Cannot combine "switch" with "is"'),l(n.not===void 0,'Cannot combine "switch" with "not"'),l(n.then===void 0,'Cannot combine "switch" with "then"');const t={ref:b.ref(a),switch:[],break:n.break};for(let e=0;e<n.switch.length;++e){const o=n.switch[e],r=e===n.switch.length-1;g.assertOptions(o,r?["is","then","otherwise"]:["is","then"]),l(o.is!==void 0,'Switch statement missing "is"'),l(o.then!==void 0,'Switch statement missing "then"');const i={is:s.$_compile(o.is),then:s.$_compile(o.then)};if(y.isRef(o.is)||g.isSchema(o.is)||(i.is=i.is.required()),r){l(n.otherwise===void 0||o.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const c=n.otherwise!==void 0?n.otherwise:o.otherwise;c!==void 0&&(l(t.break===void 0,"Cannot specify both otherwise and break"),i.otherwise=s.$_compile(c))}t.switch.push(i)}return t},p.condition=function(s,a){for(const n of["then","otherwise"])a[n]===void 0?delete a[n]:a[n]=s.$_compile(a[n]);return a}},3738:(w,b)=>{const m={};b=w.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,url:URL.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},m.typeMap=new Map([["[object Error]",b.error],["[object Map]",b.map],["[object Promise]",b.promise],["[object Set]",b.set],["[object URL]",b.url],["[object WeakMap]",b.weakMap],["[object WeakSet]",b.weakSet]]),b.getInternalProto=function(l){if(Array.isArray(l))return b.array;if(l instanceof Date)return b.date;if(l instanceof RegExp)return b.regex;if(l instanceof Error)return b.error;const g=Object.prototype.toString.call(l);return m.typeMap.get(g)||b.generic}},4126:(w,b,m)=>{const l=m(1528),g=m(3738),y=m(86),p={needsProtoHack:new Set([g.set,g.map,g.weakSet,g.weakMap]),structuredCloneExists:typeof structuredClone=="function"};w.exports=p.clone=function(s,a={},n=null){if(typeof s!="object"||s===null)return s;let t=p.clone,e=n;if(a.shallow){if(a.shallow!==!0)return p.cloneWithShallow(s,a);t=c=>c}else if(e){const c=e.get(s);if(c)return c}else e=new Map;const o=g.getInternalProto(s);switch(o){case g.buffer:return(!1).from(s);case g.date:return new Date(s.getTime());case g.regex:case g.url:return new o.constructor(s)}const r=p.base(s,o,a);if(r===s)return s;if(e&&e.set(s,r),o===g.set)for(const c of s)r.add(t(c,a,e));else if(o===g.map)for(const[c,f]of s)r.set(c,t(f,a,e));const i=y.keys(s,a);for(const c of i){if(c==="__proto__")continue;if(o===g.array&&c==="length"){r.length=s.length;continue}if(p.structuredCloneExists&&o===g.error&&c==="stack")continue;const f=Object.getOwnPropertyDescriptor(s,c);f?f.get||f.set?Object.defineProperty(r,c,f):f.enumerable?r[c]=t(s[c],a,e):Object.defineProperty(r,c,{enumerable:!1,writable:!0,configurable:!0,value:t(s[c],a,e)}):Object.defineProperty(r,c,{enumerable:!0,writable:!0,configurable:!0,value:t(s[c],a,e)})}return r},p.cloneWithShallow=function(s,a){const n=a.shallow;(a=Object.assign({},a)).shallow=!1;const t=new Map;for(const e of n){const o=l(s,e);typeof o!="object"&&typeof o!="function"||t.set(o,o)}return p.clone(s,a,t)},p.base=function(s,a,n){if(n.prototype===!1)return p.needsProtoHack.has(a)?new a.constructor:a===g.array?[]:{};const t=Object.getPrototypeOf(s);if(t&&t.isImmutable)return s;if(a===g.array){const e=[];return t!==a&&Object.setPrototypeOf(e,t),e}if(a===g.error&&p.structuredCloneExists&&(t===a||Error.isPrototypeOf(t.constructor))){const e=structuredClone(s);return Object.getPrototypeOf(e)!==t&&Object.setPrototypeOf(e,t),e}if(p.needsProtoHack.has(a)){const e=new t.constructor;return t!==a&&Object.setPrototypeOf(e,t),e}return Object.create(t)}},4709:(w,b,m)=>{const{assert:l}=m(3115),g=m(680),y=m(9415),p={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(s){const a=s.toString(),n=a.indexOf("."),t=a.indexOf("e");return(n<0?0:(t<0?a.length:t)-n-1)+(t<0?0:Math.max(0,-parseInt(a.slice(t+1))))}};w.exports=g.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(s,{schema:a,error:n}){if(!s.match(p.numberRx))return;s=s.trim();const t={value:parseFloat(s)};if(t.value===0&&(t.value=0),!a._flags.unsafe)if(s.match(/e/i)){if(p.extractSignificantDigits(s)!==p.extractSignificantDigits(String(t.value)))return t.errors=n("number.unsafe"),t}else{const e=t.value.toString();if(e.match(/e/i))return t;if(e!==p.normalizeDecimal(s))return t.errors=n("number.unsafe"),t}return t}},validate(s,{schema:a,error:n,prefs:t}){if(s===1/0||s===-1/0)return{value:s,errors:n("number.infinity")};if(!y.isNumber(s))return{value:s,errors:n("number.base")};const e={value:s};if(t.convert){const o=a.$_getRule("precision");if(o){const r=Math.pow(10,o.args.limit);e.value=Math.round(e.value*r)/r}}return e.value===0&&(e.value=0),!a._flags.unsafe&&(s>Number.MAX_SAFE_INTEGER||s<Number.MIN_SAFE_INTEGER)&&(e.errors=n("number.unsafe")),e},rules:{compare:{method:!1,validate:(s,a,{limit:n},{name:t,operator:e,args:o})=>y.compare(s,n,e)?s:a.error("number."+t,{limit:o.limit,value:s}),args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(s){return this.$_addRule({name:"greater",method:"compare",args:{limit:s},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(s,a)=>Math.trunc(s)-s===0?s:a.error("number.integer")},less:{method(s){return this.$_addRule({name:"less",method:"compare",args:{limit:s},operator:"<"})}},max:{method(s){return this.$_addRule({name:"max",method:"compare",args:{limit:s},operator:"<="})}},min:{method(s){return this.$_addRule({name:"min",method:"compare",args:{limit:s},operator:">="})}},multiple:{method(s){const a=typeof s=="number"?p.decimalPlaces(s):null,n=Math.pow(10,a);return this.$_addRule({name:"multiple",args:{base:s,baseDecimalPlace:a,pfactor:n}})},validate:(s,a,{base:n,baseDecimalPlace:t,pfactor:e},o)=>p.decimalPlaces(s)>t?a.error("number.multiple",{multiple:o.args.base,value:s}):Math.round(e*s)%Math.round(e*n)===0?s:a.error("number.multiple",{multiple:o.args.base,value:s}),args:[{name:"base",ref:!0,assert:s=>typeof s=="number"&&isFinite(s)&&s>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(s,a)=>Number.isSafeInteger(s)&&s>=0&&s<=65535?s:a.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(s){return l(Number.isSafeInteger(s),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:s}})},validate(s,a,{limit:n}){const t=s.toString().match(p.precisionRx);return Math.max((t[1]?t[1].length:0)-(t[2]?parseInt(t[2],10):0),0)<=n?s:a.error("number.precision",{limit:n,value:s})},convert:!0},sign:{method(s){return l(["negative","positive"].includes(s),"Invalid sign",s),this.$_addRule({name:"sign",args:{sign:s}})},validate:(s,a,{sign:n})=>n==="negative"&&s<0||n==="positive"&&s>0?s:a.error(`number.${n}`)},unsafe:{method(s=!0){return l(typeof s=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",s)}}},cast:{string:{from:s=>typeof s=="number",to:(s,a)=>s.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),p.extractSignificantDigits=function(s){return s.replace(p.exponentialPartRegex,"").replace(p.dotRegex,"").replace(p.trailingZerosRegex,"").replace(p.leadingSignAndZerosRegex,"")},p.normalizeDecimal=function(s){return(s=s.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&s.endsWith("0")&&(s=s.replace(/0+$/,"")),s==="-0"?"0":s}},4840:(w,b,m)=>{const{assert:l}=m(3115),g=m(2888);w.exports=g.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return l(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate:(y,p,{n:s})=>y.length===s?y:p.error("function.arity",{n:s})},class:{method(){return this.$_addRule("class")},validate:(y,p)=>/^\s*class\s/.test(y.toString())?y:p.error("function.class",{value:y})},minArity:{method(y){return l(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate:(y,p,{n:s})=>y.length>=s?y:p.error("function.minArity",{n:s})},maxArity:{method(y){return l(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate:(y,p,{n:s})=>y.length<=s?y:p.error("function.maxArity",{n:s})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},4895:(w,b,m)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tlds=void 0;const l=m(362);b.tlds=new Set(l.TLDS.map(g=>g.toLowerCase()))},4957:(w,b,m)=>{const{clone:l,reach:g}=m(3115),y=m(9415),p={value:Symbol("value")};w.exports=p.State=class{constructor(s,a,n){this.path=s,this.ancestors=a,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}localize(s,a=null,n=null){const t=new p.State(s,a,this);return n&&t.schemas&&(t.schemas=[p.schemas(n),...t.schemas]),t}nest(s,a){const n=new p.State(this.path,this.ancestors,this);return n.schemas=n.schemas&&[p.schemas(s),...n.schemas],n.debug=a,n}shadow(s,a){this.mainstay.shadow=this.mainstay.shadow||new p.Shadow,this.mainstay.shadow.set(this.path,s,a)}snapshot(){this.mainstay.shadow&&(this._snapshot=l(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},p.schemas=function(s){return y.isSchema(s)?{schema:s}:s},p.Shadow=class{constructor(){this._values=null}set(s,a,n){if(!s.length||n==="strip"&&typeof s[s.length-1]=="number")return;this._values=this._values||new Map;let t=this._values;for(let e=0;e<s.length;++e){const o=s[e];let r=t.get(o);r||(r=new Map,t.set(o,r)),t=r}t[p.value]=a}get(s){const a=this.node(s);if(a)return a[p.value]}node(s){if(this._values)return g(this._values,s,{iterables:!0})}override(s,a){if(!this._values)return;const n=s.slice(0,-1),t=s[s.length-1],e=g(this._values,n,{iterables:!0});a?e.set(t,a):e&&e.delete(t)}}},4972:(w,b,m)=>{const{assert:l,merge:g}=m(3115),y=m(680),p=m(9415),s=m(3541),a=m(8013),n=m(8529),t={};w.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:n.toSibling}},args:(e,...o)=>o.length===1&&Array.isArray(o[0])?e.try(...o[0]):e.try(...o),validate(e,o){const{schema:r,error:i,state:c,prefs:f}=o;if(r._flags.match){const _=[],A=[];for(let h=0;h<r.$_terms.matches.length;++h){const v=r.$_terms.matches[h],E=c.nest(v.schema,`match.${h}`);E.snapshot();const R=v.schema.$_validate(e,E,f);R.errors?(A.push(R.errors),E.restore()):(_.push(R.value),E.commit())}if(_.length===0)return{errors:i("alternatives.any",{details:A.map(h=>a.details(h,{override:!1}))})};if(r._flags.match==="one")return _.length===1?{value:_[0]}:{errors:i("alternatives.one")};if(_.length!==r.$_terms.matches.length)return{errors:i("alternatives.all",{details:A.map(h=>a.details(h,{override:!1}))})};const u=h=>h.$_terms.matches.some(v=>v.schema.type==="object"||v.schema.type==="alternatives"&&u(v.schema));return u(r)?{value:_.reduce((h,v)=>g(h,v,{mergeArrays:!1}))}:{value:_[_.length-1]}}const d=[];for(let _=0;_<r.$_terms.matches.length;++_){const A=r.$_terms.matches[_];if(A.schema){const v=c.nest(A.schema,`match.${_}`);v.snapshot();const E=A.schema.$_validate(e,v,f);if(!E.errors)return v.commit(),E;v.restore(),d.push({schema:A.schema,reports:E.errors});continue}const u=A.ref?A.ref.resolve(e,c,f):e,h=A.is?[A]:A.switch;for(let v=0;v<h.length;++v){const E=h[v],{is:R,then:I,otherwise:k}=E,D=`match.${_}${A.switch?"."+v:""}`;if(R.$_match(u,c.nest(R,`${D}.is`),f)){if(I)return I.$_validate(e,c.nest(I,`${D}.then`),f)}else if(k)return k.$_validate(e,c.nest(k,`${D}.otherwise`),f)}}return t.errors(d,o)},rules:{conditional:{method(e,o){l(!this._flags._endedSwitch,"Unreachable condition"),l(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),l(o.break===void 0,"Cannot use break option with alternatives conditional");const r=this.clone(),i=s.when(r,e,o),c=i.is?[i]:i.switch;for(const f of c)if(f.then&&f.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(i),r.$_mutateRebuild()}},match:{method(e){if(l(["any","one","all"].includes(e),"Invalid alternatives match mode",e),e!=="any")for(const o of this.$_terms.matches)l(o.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){l(e.length,"Missing alternative schemas"),p.verifyFlat(e,"try"),l(!this._flags._endedSwitch,"Unreachable condition");const o=this.clone();for(const r of e)o.$_terms.matches.push({schema:o.$_compile(r)});return o.$_mutateRebuild()}}},overrides:{label(e){return this.$_parent("label",e).$_modify({each:(o,r)=>r.path[0]!=="is"&&typeof o._flags.label!="string"?o.label(e):void 0,ref:!1})},isAsync(){var e;if((e=this.$_terms.externals)!==null&&e!==void 0&&e.length)return!0;for(const c of this.$_terms.matches){var o,r,i;if((o=c.schema)!==null&&o!==void 0&&o.isAsync()||(r=c.then)!==null&&r!==void 0&&r.isAsync()||(i=c.otherwise)!==null&&i!==void 0&&i.isAsync())return!0}return!1}},rebuild(e){e.$_modify({each:o=>{p.isSchema(o)&&o.type==="array"&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,o){if(o.matches)for(const r of o.matches){const{schema:i,ref:c,is:f,not:d,then:_,otherwise:A}=r;e=i?e.try(i):c?e.conditional(c,{is:f,then:_,not:d,otherwise:A,switch:r.switch}):e.conditional(f,{then:_,otherwise:A})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),t.errors=function(e,{error:o,state:r}){if(!e.length)return{errors:o("alternatives.any")};if(e.length===1)return{errors:e[0].reports};const i=new Set,c=[];for(const{reports:f,schema:d}of e){if(f.length>1)return t.unmatched(e,o);const _=f[0];if(_ instanceof a.Report==0)return t.unmatched(e,o);if(_.state.path.length!==r.path.length){c.push({type:d.type,report:_});continue}if(_.code==="any.only"){for(const h of _.local.valids)i.add(h);continue}const[A,u]=_.code.split(".");u!=="base"?c.push({type:d.type,report:_}):_.code==="object.base"?i.add(_.local.type):i.add(A)}return c.length?c.length===1?{errors:c[0].report}:t.unmatched(e,o):{errors:o("alternatives.types",{types:[...i]})}},t.unmatched=function(e,o){const r=[];for(const i of e)r.push(...i.reports);return{errors:o("alternatives.match",a.details(r,{override:!1}))}}},5008:(w,b,m)=>{const{assert:l}=m(3115),g=m(680),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},w.exports=g.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(p,{schema:s,error:a}){const n=s.$_terms.map.get(p);return n&&(p=n),s._flags.only&&typeof p!="symbol"?{value:p,errors:a("symbol.map",{map:s.$_terms.map})}:{value:p}}},validate(p,{error:s}){if(typeof p!="symbol")return{value:p,errors:s("symbol.base")}},rules:{map:{method(p){p&&!p[Symbol.iterator]&&typeof p=="object"&&(p=Object.entries(p)),l(p&&p[Symbol.iterator],"Iterable must be an iterable or object");const s=this.clone(),a=[];for(const n of p){l(n&&n[Symbol.iterator],"Entry must be an iterable");const[t,e]=n;l(typeof t!="object"&&typeof t!="function"&&typeof t!="symbol","Key must not be of type object, function, or Symbol"),l(typeof e=="symbol","Value must be a Symbol"),s.$_terms.map.set(t,e),a.push(e)}return s.valid(...a)}}},manifest:{build:(p,s)=>(s.map&&(p=p.map(s.map)),p)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},5553:w=>{const b={};w.exports=b.flatten=function(m,l){const g=l||[];for(const y of m)Array.isArray(y)?b.flatten(y,g):g.push(y);return g}},5570:w=>{const b={};w.exports=function(m){return m?m.replace(/[<>&\u2028\u2029]/g,b.escape):""},b.escape=function(m){return b.replacements.get(m)},b.replacements=new Map([["<","\\u003c"],[">","\\u003e"],["&","\\u0026"],["\u2028","\\u2028"],["\u2029","\\u2029"]])},5844:(w,b,m)=>{const{assert:l}=m(3115),g=m(9415),y=m(8529),p={};b.Ids=p.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const s=new p.Ids;return s._byId=new Map(this._byId),s._byKey=new Map(this._byKey),s._schemaChain=this._schemaChain,s}concat(s){s._schemaChain&&(this._schemaChain=!0);for(const[a,n]of s._byId.entries())l(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,n);for(const[a,n]of s._byKey.entries())l(!this._byId.has(a),"Schema key conflicts with existing id:",a),this._byKey.set(a,n)}fork(s,a,n){const t=this._collect(s);t.push({schema:n});const e=t.shift();let o={id:e.id,schema:a(e.schema)};l(g.isSchema(o.schema),"adjuster function failed to return a joi schema type");for(const r of t)o={id:r.id,schema:p.fork(r.schema,o.id,o.schema)};return o.schema}labels(s,a=[]){const n=s[0],t=this._get(n);if(!t)return[...a,...s].join(".");const e=s.slice(1);return a=[...a,t.schema._flags.label||n],e.length?t.schema._ids.labels(e,a):a.join(".")}reach(s,a=[]){const n=s[0],t=this._get(n);l(t,"Schema does not contain path",[...a,...s].join("."));const e=s.slice(1);return e.length?t.schema._ids.reach(e,[...a,n]):t.schema}register(s,{key:a}={}){if(!s||!g.isSchema(s))return;(s.$_property("schemaChain")||s._ids._schemaChain)&&(this._schemaChain=!0);const n=s._flags.id;if(n){const t=this._byId.get(n);l(!t||t.schema===s,"Cannot add different schemas with the same id:",n),l(!this._byKey.has(n),"Schema id conflicts with existing key:",n),this._byId.set(n,{schema:s,id:n})}a&&(l(!this._byKey.has(a),"Schema already contains key:",a),l(!this._byId.has(a),"Schema key conflicts with existing id:",a),this._byKey.set(a,{schema:s,id:a}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(s,a=[],n=[]){const t=s[0],e=this._get(t);l(e,"Schema does not contain path",[...a,...s].join(".")),n=[e,...n];const o=s.slice(1);return o.length?e.schema._ids._collect(o,[...a,t],n):n}_get(s){return this._byId.get(s)||this._byKey.get(s)}},p.fork=function(s,a,n){const t=b.schema(s,{each:(e,{key:o})=>{if(a===(e._flags.id||o))return n},ref:!1});return t?t.$_mutateRebuild():s},b.schema=function(s,a){let n;for(const t in s._flags){if(t[0]==="_")continue;const e=p.scan(s._flags[t],{source:"flags",name:t},a);e!==void 0&&(n=n||s.clone(),n._flags[t]=e)}for(let t=0;t<s._rules.length;++t){const e=s._rules[t],o=p.scan(e.args,{source:"rules",name:e.name},a);if(o!==void 0){n=n||s.clone();const r=Object.assign({},e);r.args=o,n._rules[t]=r,n._singleRules.get(e.name)===e&&n._singleRules.set(e.name,r)}}for(const t in s.$_terms){if(t[0]==="_")continue;const e=p.scan(s.$_terms[t],{source:"terms",name:t},a);e!==void 0&&(n=n||s.clone(),n.$_terms[t]=e)}return n},p.scan=function(s,a,n,t,e){const o=t||[];if(s===null||typeof s!="object")return;let r;if(Array.isArray(s)){for(let i=0;i<s.length;++i){const c=a.source==="terms"&&a.name==="keys"&&s[i].key,f=p.scan(s[i],a,n,[i,...o],c);f!==void 0&&(r=r||s.slice(),r[i]=f)}return r}if(n.schema!==!1&&g.isSchema(s)||n.ref!==!1&&y.isRef(s)){const i=n.each(s,{...a,path:o,key:e});return i===s?void 0:i}for(const i in s){if(i[0]==="_")continue;const c=p.scan(s[i],a,n,[i,...o],e);c!==void 0&&(r=r||Object.assign({},s),r[i]=c)}return r}},6084:(w,b,m)=>{const l=m(8253),g=m(4126),y=m(9315),p=m(1528),s={};w.exports=function(a,n,t={}){if(l(a&&typeof a=="object","Invalid defaults value: must be an object"),l(!n||n===!0||typeof n=="object","Invalid source value: must be true, falsy or an object"),l(typeof t=="object","Invalid options: must be an object"),!n)return null;if(t.shallow)return s.applyToDefaultsWithShallow(a,n,t);const e=g(a);if(n===!0)return e;const o=t.nullOverride!==void 0&&t.nullOverride;return y(e,n,{nullOverride:o,mergeArrays:!1})},s.applyToDefaultsWithShallow=function(a,n,t){const e=t.shallow;l(Array.isArray(e),"Invalid keys");const o=new Map,r=n===!0?null:new Set;for(let f of e){f=Array.isArray(f)?f:f.split(".");const d=p(a,f);d&&typeof d=="object"?o.set(d,r&&p(n,f)||d):r&&r.add(f)}const i=g(a,{},o);if(!r)return i;for(const f of r)s.reachCopy(i,n,f);const c=t.nullOverride!==void 0&&t.nullOverride;return y(i,n,{nullOverride:c,mergeArrays:!1})},s.reachCopy=function(a,n,t){for(const r of t){if(!(r in n))return;const i=n[r];if(typeof i!="object"||i===null)return;n=i}const e=n;let o=a;for(let r=0;r<t.length-1;++r){const i=t[r];typeof o[i]!="object"&&(o[i]={}),o=o[i]}o[t[t.length-1]]=e}},6162:(w,b,m)=>{const{assert:l,clone:g}=m(3115),y=m(1532);b.compile=function(p,s){if(typeof p=="string")return l(!s,"Cannot set single message string"),new y(p);if(y.isTemplate(p))return l(!s,"Cannot set single message template"),p;l(typeof p=="object"&&!Array.isArray(p),"Invalid message options"),s=s?g(s):{};for(let a in p){const n=p[a];if(a==="root"||y.isTemplate(n)){s[a]=n;continue}if(typeof n=="string"){s[a]=new y(n);continue}l(typeof n=="object"&&!Array.isArray(n),"Invalid message for",a);const t=a;for(a in s[t]=s[t]||{},n){const e=n[a];a==="root"||y.isTemplate(e)?s[t][a]=e:(l(typeof e=="string","Invalid message for",a,"in",t),s[t][a]=new y(e))}}return s},b.decompile=function(p){const s={};for(let a in p){const n=p[a];if(a==="root"){s.root=n;continue}if(y.isTemplate(n)){s[a]=n.describe({compact:!0});continue}const t=a;for(a in s[t]={},n){const e=n[a];a!=="root"?s[t][a]=e.describe({compact:!0}):s[t].root=e}}return s},b.merge=function(p,s){if(!p)return b.compile(s);if(!s)return p;if(typeof s=="string")return new y(s);if(y.isTemplate(s))return s;const a=g(p);for(let n in s){const t=s[n];if(n==="root"||y.isTemplate(t)){a[n]=t;continue}if(typeof t=="string"){a[n]=new y(t);continue}l(typeof t=="object"&&!Array.isArray(t),"Invalid message for",n);const e=n;for(n in a[e]=a[e]||{},t){const o=t[n];n==="root"||y.isTemplate(o)?a[e][n]=o:(l(typeof o=="string","Invalid message for",n,"in",e),a[e][n]=new y(o))}}return a}},6186:(w,b,m)=>{const{assert:l}=m(3115),g=m(680),y=m(9415),p=m(6220),s={isBool:function(a){return typeof a=="boolean"}};w.exports=g.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(a,{schema:n}){if(typeof a!="boolean"){if(typeof a=="string"){const t=n._flags.sensitive?a:a.toLowerCase();a=t==="true"||t!=="false"&&a}return typeof a!="boolean"&&(a=n.$_terms.truthy&&n.$_terms.truthy.has(a,null,null,!n._flags.sensitive)||(!n.$_terms.falsy||!n.$_terms.falsy.has(a,null,null,!n._flags.sensitive))&&a),{value:a}}},validate(a,{error:n}){if(typeof a!="boolean")return{value:a,errors:n("boolean.base")}},rules:{truthy:{method(...a){y.verifyFlat(a,"truthy");const n=this.clone();n.$_terms.truthy=n.$_terms.truthy||new p;for(let t=0;t<a.length;++t){const e=a[t];l(e!==void 0,"Cannot call truthy with undefined"),n.$_terms.truthy.add(e)}return n}},falsy:{method(...a){y.verifyFlat(a,"falsy");const n=this.clone();n.$_terms.falsy=n.$_terms.falsy||new p;for(let t=0;t<a.length;++t){const e=a[t];l(e!==void 0,"Cannot call falsy with undefined"),n.$_terms.falsy.add(e)}return n}},sensitive:{method(a=!0){return this.$_setFlag("sensitive",a)}}},cast:{number:{from:s.isBool,to:(a,n)=>a?1:0},string:{from:s.isBool,to:(a,n)=>a?"true":"false"}},manifest:{build:(a,n)=>(n.truthy&&(a=a.truthy(...n.truthy)),n.falsy&&(a=a.falsy(...n.falsy)),a)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},6220:(w,b,m)=>{const{assert:l,deepEqual:g}=m(3115),y=m(9415),p={};w.exports=p.Values=class{constructor(s,a){this._values=new Set(s),this._refs=new Set(a),this._lowercase=p.lowercases(s),this._override=!1}get length(){return this._values.size+this._refs.size}add(s,a){y.isResolvable(s)?this._refs.has(s)||(this._refs.add(s),a&&a.register(s)):this.has(s,null,null,!1)||(this._values.add(s),typeof s=="string"&&this._lowercase.set(s.toLowerCase(),s))}static merge(s,a,n){if(s=s||new p.Values,a){if(a._override)return a.clone();for(const t of[...a._values,...a._refs])s.add(t)}if(n)for(const t of[...n._values,...n._refs])s.remove(t);return s.length?s:null}remove(s){y.isResolvable(s)?this._refs.delete(s):(this._values.delete(s),typeof s=="string"&&this._lowercase.delete(s.toLowerCase()))}has(s,a,n,t){return!!this.get(s,a,n,t)}get(s,a,n,t){if(!this.length)return!1;if(this._values.has(s))return{value:s};if(typeof s=="string"&&s&&t){const e=this._lowercase.get(s.toLowerCase());if(e)return{value:e}}if(!this._refs.size&&typeof s!="object")return!1;if(typeof s=="object"){for(const e of this._values)if(g(e,s))return{value:e}}if(a)for(const e of this._refs){const o=e.resolve(s,a,n,null,{in:!0});if(o===void 0)continue;const r=e.in&&typeof o=="object"?Array.isArray(o)?o:Object.keys(o):[o];for(const i of r)if(typeof i==typeof s){if(t&&s&&typeof s=="string"){if(i.toLowerCase()===s.toLowerCase())return{value:i,ref:e}}else if(g(i,s))return{value:i,ref:e}}}return!1}override(){this._override=!0}values(s){if(s&&s.display){const a=[];for(const n of[...this._values,...this._refs])n!==void 0&&a.push(n);return a}return Array.from([...this._values,...this._refs])}clone(){const s=new p.Values(this._values,this._refs);return s._override=this._override,s}concat(s){l(!s._override,"Cannot concat override set of values");const a=new p.Values([...this._values,...s._values],[...this._refs,...s._refs]);return a._override=this._override,a}describe(){const s=[];this._override&&s.push({override:!0});for(const a of this._values.values())s.push(a&&typeof a=="object"?{value:a}:a);for(const a of this._refs.values())s.push(a.describe());return s}},p.Values.prototype[y.symbols.values]=!0,p.Values.prototype.slice=p.Values.prototype.clone,p.lowercases=function(s){const a=new Map;if(s)for(const n of s)typeof n=="string"&&a.set(n.toLowerCase(),n);return a}},6913:w=>{w.exports={version:"18.0.1"}},6984:()=>{},7125:(w,b,m)=>{const l=m(3738),g={mismatched:null};w.exports=function(y,p,s){return s=Object.assign({prototype:!0},s),!!g.isDeepEqual(y,p,s,[])},g.isDeepEqual=function(y,p,s,a){if(y===p)return y!==0||1/y==1/p;const n=typeof y;if(n!==typeof p||y===null||p===null)return!1;if(n==="function"){if(!s.deepFunction||y.toString()!==p.toString())return!1}else if(n!=="object")return y!=y&&p!=p;const t=g.getSharedType(y,p,!!s.prototype);switch(t){case l.buffer:return!1;case l.promise:return y===p;case l.regex:case l.url:return y.toString()===p.toString();case g.mismatched:return!1}for(let e=a.length-1;e>=0;--e)if(a[e].isSame(y,p))return!0;a.push(new g.SeenEntry(y,p));try{return!!g.isDeepEqualObj(t,y,p,s,a)}finally{a.pop()}},g.getSharedType=function(y,p,s){if(s)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(p)?g.mismatched:l.getInternalProto(y);const a=l.getInternalProto(y);return a!==l.getInternalProto(p)?g.mismatched:a},g.valueOf=function(y){const p=y.valueOf;if(p===void 0)return y;try{return p.call(y)}catch(s){return s}},g.hasOwnEnumerableProperty=function(y,p){return Object.prototype.propertyIsEnumerable.call(y,p)},g.isSetSimpleEqual=function(y,p){for(const s of Set.prototype.values.call(y))if(!Set.prototype.has.call(p,s))return!1;return!0},g.isDeepEqualObj=function(y,p,s,a,n){const{isDeepEqual:t,valueOf:e,hasOwnEnumerableProperty:o}=g,{keys:r,getOwnPropertySymbols:i}=Object;if(y===l.array){if(!a.part){if(p.length!==s.length)return!1;for(let u=0;u<p.length;++u)if(!t(p[u],s[u],a,n))return!1;return!0}for(const u of p)for(const h of s)if(t(u,h,a,n))return!0}else if(y===l.set){if(p.size!==s.size)return!1;if(!g.isSetSimpleEqual(p,s)){const u=new Set(Set.prototype.values.call(s));for(const h of Set.prototype.values.call(p)){if(u.delete(h))continue;let v=!1;for(const E of u)if(t(h,E,a,n)){u.delete(E),v=!0;break}if(!v)return!1}}}else if(y===l.map){if(p.size!==s.size)return!1;for(const[u,h]of Map.prototype.entries.call(p))if(h===void 0&&!Map.prototype.has.call(s,u)||!t(h,Map.prototype.get.call(s,u),a,n))return!1}else if(y===l.error&&(p.name!==s.name||p.message!==s.message))return!1;const c=e(p),f=e(s);if((p!==c||s!==f)&&!t(c,f,a,n))return!1;const d=r(p);if(!a.part&&d.length!==r(s).length&&!a.skip)return!1;let _=0;for(const u of d)if(a.skip&&a.skip.includes(u))s[u]===void 0&&++_;else if(!o(s,u)||!t(p[u],s[u],a,n))return!1;if(!a.part&&d.length-_!==r(s).length)return!1;if(a.symbols!==!1){const u=i(p),h=new Set(i(s));for(const v of u){var A;if((A=a.skip)===null||A===void 0||!A.includes(v)){if(o(p,v)){if(!o(s,v)||!t(p[v],s[v],a,n))return!1}else if(o(s,v))return!1}h.delete(v)}for(const v of h)if(o(s,v))return!1}return!0},g.SeenEntry=class{constructor(y,p){this.obj=y,this.ref=p}isSame(y,p){return this.obj===y&&this.ref===p}}},7487:(w,b,m)=>{const l=m(2888);w.exports=l.extend({type:"object",cast:{map:{from:g=>g&&typeof g=="object",to:(g,y)=>new Map(Object.entries(g))}}})},7858:w=>{w.exports=function(b,m,l){if(typeof b=="bigint"&&(b=Number(b)),b>=Number.MAX_SAFE_INTEGER&&(b=1/0),typeof b!="number"&&b!==void 0)throw new TypeError("Timeout must be a number or bigint");return new Promise(g=>{const y=l?l.setTimeout:setTimeout,p=()=>{const s=Math.min(b,2147483647);b-=s,y(()=>b>0?p():g(m),s)};b!==1/0&&p()})}},8013:(w,b,m)=>{const l=m(554),g=m(9415),y=m(1532);b.Report=class{constructor(p,s,a,n,t,e,o){if(this.code=p,this.flags=n,this.messages=t,this.path=e.path,this.prefs=o,this.state=e,this.value=s,this.message=null,this.template=null,this.local=a||{},this.local.label=b.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const r=this.path[this.path.length-1];typeof r!="object"&&(this.local.key=r)}}_setTemplate(p){if(this.template=p,!this.flags.label&&this.path.length===0){const s=this._template(this.template,"root");s&&(this.local.label=s)}}toString(){if(this.message)return this.message;const p=this.code;if(!this.prefs.errors.render)return this.code;const s=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return s===void 0?`Error code "${p}" is not defined, your custom type is missing the correct messages definition`:(this.message=s.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(p,s){return b.template(this.value,p,s||this.code,this.state,this.prefs)}},b.path=function(p){let s="";for(const a of p)typeof a!="object"&&(typeof a=="string"?(s&&(s+="."),s+=a):s+=`[${a}]`);return s},b.template=function(p,s,a,n,t){if(!s)return;if(y.isTemplate(s))return a!=="root"?s:null;let e=t.errors.language;if(g.isResolvable(e)&&(e=e.resolve(p,n,t)),e&&s[e]){if(s[e][a]!==void 0)return s[e][a];if(s[e]["*"]!==void 0)return s[e]["*"]}return s[a]?s[a]:s["*"]},b.label=function(p,s,a,n){if(!a.errors.label)return"";if(p.label)return p.label;let t=s.path;return a.errors.label==="key"&&s.path.length>1&&(t=s.path.slice(-1)),b.path(t)||b.template(null,a.messages,"root",s,a)||n&&b.template(null,n,"root",s,a)||"value"},b.process=function(p,s,a){if(!p)return null;const{override:n,message:t,details:e}=b.details(p);if(n)return n;if(a.errors.stack)return new b.ValidationError(t,e,s);const o=Error.stackTraceLimit;Error.stackTraceLimit=0;const r=new b.ValidationError(t,e,s);return Error.stackTraceLimit=o,r},b.details=function(p,s={}){let a=[];const n=[];for(const t of p){if(t instanceof Error){if(s.override!==!1)return{override:t};const o=t.toString();a.push(o),n.push({message:o,type:"override",context:{error:t}});continue}const e=t.toString();a.push(e),n.push({message:e,path:t.path.filter(o=>typeof o!="object"),type:t.code,context:t.local})}return a.length>1&&(a=[...new Set(a)]),{message:a.join(". "),details:n}},b.ValidationError=class extends Error{constructor(p,s,a){super(p),this._original=a,this.details=s}static isError(p){return p instanceof b.ValidationError}},b.ValidationError.prototype.isJoi=!0,b.ValidationError.prototype.name="ValidationError",b.ValidationError.prototype.annotate=l.error},8121:w=>{const b={};w.exports=function(m){if(!m)return"";let l="";for(let g=0;g<m.length;++g){const y=m.charCodeAt(g);b.isSafe(y)?l+=m[g]:l+=b.escapeHtmlChar(y)}return l},b.escapeHtmlChar=function(m){return b.namedHtml.get(m)||(m>=256?"&#"+m+";":`&#x${m.toString(16).padStart(2,"0")};`)},b.isSafe=function(m){return b.safeCharCodes.has(m)},b.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),b.safeCharCodes=(function(){const m=new Set;for(let l=32;l<123;++l)(l>=97||l>=65&&l<=90||l>=48&&l<=57||l===32||l===46||l===44||l===45||l===58||l===95)&&m.add(l);return m})()},8248:(w,b,m)=>{const{assert:l}=m(3115),g={};b.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,p){var s,a,n,t;const e=[].concat((s=(p=p??{}).before)!==null&&s!==void 0?s:[]),o=[].concat((a=p.after)!==null&&a!==void 0?a:[]),r=(n=p.group)!==null&&n!==void 0?n:"?",i=(t=p.sort)!==null&&t!==void 0?t:0;l(!e.includes(r),`Item cannot come before itself: ${r}`),l(!e.includes("?"),"Item cannot come before unassociated items"),l(!o.includes(r),`Item cannot come after itself: ${r}`),l(!o.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const c of y){const f={seq:this._items.length,sort:i,before:e,after:o,group:r,node:c};this._items.push(f)}if(!p.manual){const c=this._sort();l(c,"item",r!=="?"?`added into group ${r}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const s of y)if(s)for(const a of s._items)this._items.push(Object.assign({},a));this._items.sort(g.mergeSort);for(let s=0;s<this._items.length;++s)this._items[s].seq=s;const p=this._sort();return l(p,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return l(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},p=Object.create(null),s=Object.create(null);for(const f of this._items){var a;const d=f.seq,_=f.group;s[_]=(a=s[_])!==null&&a!==void 0?a:[],s[_].push(d),y[d]=f.before;for(const A of f.after){var n;p[A]=(n=p[A])!==null&&n!==void 0?n:[],p[A].push(d)}}for(const f in y){const d=[];for(const _ in y[f]){var t;const A=y[f][_];s[A]=(t=s[A])!==null&&t!==void 0?t:[],d.push(...s[A])}y[f]=d}for(const f in p)if(s[f])for(const d of s[f])y[d].push(...p[f]);const e={};for(const f in y){const d=y[f];for(const _ of d){var o;e[_]=(o=e[_])!==null&&o!==void 0?o:[],e[_].push(f)}}const r={},i=[];for(let f=0;f<this._items.length;++f){let d=f;if(e[f]){d=null;for(let _=0;_<this._items.length;++_){if(r[_]===!0)continue;e[_]||(e[_]=[]);const A=e[_].length;let u=0;for(let h=0;h<A;++h)r[e[_][h]]&&++u;if(u===A){d=_;break}}}d!==null&&(r[d]=!0,i.push(d))}if(i.length!==this._items.length)return!1;const c={};for(const f of this._items)c[f.seq]=f;this._items=[],this.nodes=[];for(const f of i){const d=c[f];this.nodes.push(d.node),this._items.push(d)}return!0}},g.mergeSort=(y,p)=>y.sort===p.sort?0:y.sort<p.sort?-1:1},8253:(w,b,m)=>{const l=m(1803),g=m(8314),y=w.exports=function(p,...s){if(p)return;if(s.length===1&&s[0]instanceof Error)throw s[0];const a=s.filter(n=>n!=="").map(n=>typeof n=="string"?n:n instanceof Error?n.message:g(n));throw new l(a.join(" "),y)}},8314:w=>{w.exports=function(...b){try{return JSON.stringify(...b)}catch(m){return"[Cannot display object: "+m.message+"]"}}},8529:(w,b,m)=>{const{assert:l,clone:g,reach:y}=m(3115),p=m(9415);let s;const a={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};b.create=function(n,t={}){l(typeof n=="string","Invalid reference key:",n),p.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),l(!t.prefix||typeof t.prefix=="object","options.prefix must be of type object");const e=Object.assign({},a.defaults,t);delete e.prefix;const o=e.separator,r=a.context(n,o,t.prefix);if(e.type=r.type,n=r.key,e.type==="value")if(r.root&&(l(!o||n[0]!==o,"Cannot specify relative path with root prefix"),e.ancestor="root",n||(n=null)),o&&o===n)n=null,e.ancestor=0;else if(e.ancestor!==void 0)l(!o||!n||n[0]!==o,"Cannot combine prefix with ancestor option");else{const[i,c]=a.ancestor(n,o);c&&(n=n.slice(c))===""&&(n=null),e.ancestor=i}return e.path=o?n===null?[]:n.split(o):[n],new a.Ref(e)},b.in=function(n,t={}){return b.create(n,{...t,in:!0})},b.isRef=function(n){return!!n&&!!n[p.symbols.ref]},a.Ref=class{constructor(n){l(typeof n=="object","Invalid reference construction"),p.assertOptions(n,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),l([!1,void 0].includes(n.separator)||typeof n.separator=="string"&&n.separator.length===1,"Invalid separator"),l(!n.adjust||typeof n.adjust=="function","options.adjust must be a function"),l(!n.map||Array.isArray(n.map),"options.map must be an array"),l(!n.map||!n.adjust,"Cannot set both map and adjust options"),Object.assign(this,a.defaults,n),l(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(n,t,e,o,r={}){return l(!this.in||r.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(e.context,t,r):this.type==="local"?this._resolve(o,t,r):this.ancestor?this.ancestor==="root"?this._resolve(t.ancestors[t.ancestors.length-1],t,r):(l(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,r)):this._resolve(n,t,r)}_resolve(n,t,e){let o;if(this.type==="value"&&t.mainstay.shadow&&e.shadow!==!1&&(o=t.mainstay.shadow.get(this.absolute(t))),o===void 0&&(o=y(n,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(o=this.adjust(o)),this.map){const r=this.map.get(o);r!==void 0&&(o=r)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,o),o}toString(){return this.display}absolute(n){return[...n.path.slice(0,-this.ancestor),...this.path]}clone(){return new a.Ref(this)}describe(){const n={path:this.path};this.type!=="value"&&(n.type=this.type),this.separator!=="."&&(n.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(n.ancestor=this.ancestor),this.map&&(n.map=[...this.map]);for(const t of["adjust","iterables","render"])this[t]!==null&&this[t]!==void 0&&(n[t]=this[t]);return this.in!==!1&&(n.in=!0),{ref:n}}updateDisplay(){const n=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${n}`);if(!this.separator)return void(this.display=`ref:${n}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${n}`);if(this.ancestor==="root")return void(this.display=`ref:root:${n}`);if(this.ancestor===1)return void(this.display=`ref:${n||".."}`);const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${n||""}`}},a.Ref.prototype[p.symbols.ref]=!0,b.build=function(n){return(n=Object.assign({},a.defaults,n)).type==="value"&&n.ancestor===void 0&&(n.ancestor=1),new a.Ref(n)},a.context=function(n,t,e={}){if(n=n.trim(),e){const o=e.global===void 0?"$":e.global;if(o!==t&&n.startsWith(o))return{key:n.slice(o.length),type:"global"};const r=e.local===void 0?"#":e.local;if(r!==t&&n.startsWith(r))return{key:n.slice(r.length),type:"local"};const i=e.root===void 0?"/":e.root;if(i!==t&&n.startsWith(i))return{key:n.slice(i.length),type:"value",root:!0}}return{key:n,type:"value"}},a.ancestor=function(n,t){if(!t)return[1,0];if(n[0]!==t)return[1,0];if(n[1]!==t)return[0,1];let e=2;for(;n[e]===t;)++e;return[e-1,e]},b.toSibling=0,b.toParent=1,b.Manager=class{constructor(){this.refs=[]}register(n,t){if(n)if(t=t===void 0?b.toParent:t,Array.isArray(n))for(const e of n)this.register(e,t);else if(p.isSchema(n))for(const e of n._refs.refs)e.ancestor-t>=0&&this.refs.push({ancestor:e.ancestor-t,root:e.root});else b.isRef(n)&&n.type==="value"&&n.ancestor-t>=0&&this.refs.push({ancestor:n.ancestor-t,root:n.root}),s=s||m(1532),s.isTemplate(n)&&this.register(n.refs(),t)}get length(){return this.refs.length}clone(){const n=new b.Manager;return n.refs=g(this.refs),n}reset(){this.refs=[]}roots(){return this.refs.filter(n=>!n.ancestor).map(n=>n.root)}}},8663:()=>{},8669:w=>{w.exports=function(b){return b.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},8762:w=>{const b=Symbol("wrapped");w.exports=function(m){if(m[b])return m;let l=!1;const g=function(...y){l||(l=!0,m(...y))};return g[b]=!0,g}},9017:()=>{},9033:(w,b,m)=>{const{assert:l,escapeRegex:g}=m(3115),{isDomainValid:y,isEmailValid:p,ipRegex:s,uriRegex:a}=m(3305),n=m(4895),t=m(680),e=m(9415),o={tlds:n.tlds instanceof Set&&{tlds:{allow:n.tlds,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};w.exports=t.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(r,{schema:i,state:c,prefs:f}){const d=i.$_getRule("normalize");d&&(r=r.normalize(d.args.form));const _=i.$_getRule("case");_&&(r=_.args.direction==="upper"?r.toLocaleUpperCase():r.toLocaleLowerCase());const A=i.$_getRule("trim");if(A&&A.args.enabled&&(r=r.trim()),i.$_terms.replacements)for(const h of i.$_terms.replacements)r=r.replace(h.pattern,h.replacement);const u=i.$_getRule("hex");if(u&&u.args.options.byteAligned&&r.length%2!=0&&(r=`0${r}`),i.$_getRule("isoDate")){const h=o.isoDate(r);h&&(r=h)}if(i._flags.truncate){const h=i.$_getRule("max");if(h){let v=h.args.limit;if(e.isResolvable(v)&&(v=v.resolve(r,c,f),!e.limit(v)))return{value:r,errors:i.$_createError("any.ref",v,{ref:h.args.limit,arg:"limit",reason:"must be a positive integer"},c,f)};r=r.slice(0,v)}}return{value:r}}},validate(r,{schema:i,error:c}){if(typeof r!="string")return{value:r,errors:c("string.base")};if(r===""){const f=i.$_getRule("min");return f&&f.args.limit===0?void 0:{value:r,errors:c("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(r,i)=>/^[a-zA-Z0-9]+$/.test(r)?r:i.error("string.alphanum")},base64:{method(r={}){return e.assertOptions(r,["paddingRequired","urlSafe"]),r={urlSafe:!1,paddingRequired:!0,...r},l(typeof r.paddingRequired=="boolean","paddingRequired must be boolean"),l(typeof r.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:r}})},validate:(r,i,{options:c})=>o.base64Regex[c.paddingRequired][c.urlSafe].test(r)?r:i.error("string.base64")},case:{method(r){return l(["lower","upper"].includes(r),"Invalid case:",r),this.$_addRule({name:"case",args:{direction:r}})},validate:(r,i,{direction:c})=>c==="lower"&&r===r.toLocaleLowerCase()||c==="upper"&&r===r.toLocaleUpperCase()?r:i.error(`string.${c}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(r,i){let c=r.length,f=0,d=1;for(;c--;){const _=r.charAt(c)*d;f+=_-9*(_>9),d^=3}return f>0&&f%10==0?r:i.error("string.creditCard")}},dataUri:{method(r={}){return e.assertOptions(r,["paddingRequired"]),r={paddingRequired:!0,...r},l(typeof r.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:r}})},validate(r,i,{options:c}){const f=r.match(o.dataUriRegex);return f&&(!f[2]||f[2]!=="base64"||o.base64Regex[c.paddingRequired].false.test(f[3]))?r:i.error("string.dataUri")}},domain:{method(r){r&&e.assertOptions(r,["allowFullyQualified","allowUnicode","allowUnderscore","maxDomainSegments","minDomainSegments","tlds"]);const i=o.addressOptions(r);return this.$_addRule({name:"domain",args:{options:r},address:i})},validate:(r,i,c,{address:f})=>y(r,f)?r:i.error("string.domain")},email:{method(r={}){e.assertOptions(r,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),l(r.multiple===void 0||typeof r.multiple=="boolean","multiple option must be an boolean");const i=o.addressOptions(r),c=new RegExp(`\\s*[${r.separator?g(r.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:r},regex:c,address:i})},validate(r,i,{options:c},{regex:f,address:d}){const _=c.multiple?r.split(f):[r],A=[];for(const u of _)p(u,d)||A.push(u);return A.length?i.error("string.email",{value:r,invalids:A}):r}},guid:{alias:"uuid",method(r={}){e.assertOptions(r,["version","separator","wrapper"]),l(r.wrapper===void 0||typeof r.wrapper=="boolean"||typeof r.wrapper=="string"&&typeof o.guidBrackets[r.wrapper]=="string",`"wrapper" must be true, false, or one of "${Object.keys(o.guidBrackets).filter(Boolean).join('", "')}"`);let i="";if(r.version){const A=[].concat(r.version);l(A.length>=1,"version must have at least 1 valid version specified");const u=new Set;for(let h=0;h<A.length;++h){const v=A[h];l(typeof v=="string","version at position "+h+" must be a string");const E=o.guidVersions[v.toLowerCase()];l(E,"version at position "+h+" must be one of "+Object.keys(o.guidVersions).join(", ")),l(!u.has(E),"version at position "+h+" must not be a duplicate"),i+=E,u.add(E)}}l(o.guidSeparators.has(r.separator),'separator must be one of true, false, "-", or ":"');const c=r.separator===void 0?"[:-]?":r.separator===!0?"[:-]":r.separator===!1?"[]?":`\\${r.separator}`;let f,d;r.wrapper===void 0?(f="[\\[{\\(]?",d="[\\]}\\)]?"):r.wrapper===!0?(f="[\\[{\\(]",d="[\\]}\\)]"):r.wrapper===!1?(f="",d=""):(f=g(r.wrapper),d=g(o.guidBrackets[r.wrapper]));const _=new RegExp(`^(${f})[0-9A-F]{8}(${c})[0-9A-F]{4}\\2?[${i||"0-9A-F"}][0-9A-F]{3}\\2?[${i?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}(${d})$`,"i");return this.$_addRule({name:"guid",args:{options:r},regex:_})},validate(r,i,c,{regex:f}){const d=f.exec(r);if(!d)return i.error("string.guid");const _=d[1],A=d[d.length-1];return(_||A)&&o.guidBrackets[_]!==A?i.error("string.guid"):r}},hex:{method(r={}){return e.assertOptions(r,["byteAligned","prefix"]),r={byteAligned:!1,prefix:!1,...r},l(typeof r.byteAligned=="boolean","byteAligned must be boolean"),l(typeof r.prefix=="boolean"||r.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:r}})},validate:(r,i,{options:c})=>(c.prefix==="optional"?o.hexRegex.withOptionalPrefix:c.prefix===!0?o.hexRegex.withPrefix:o.hexRegex.withoutPrefix).test(r)?c.byteAligned&&r.length%2!=0?i.error("string.hexAlign"):r:i.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(r,i)=>y(r,{minDomainSegments:1})||o.ipRegex.test(r)?r:i.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(r={}){e.assertOptions(r,["cidr","version"]);const{cidr:i,versions:c,regex:f}=s(r),d=r.version?c:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:d}},regex:f})},validate:(r,i,{options:c},{regex:f})=>f.test(r)?r:c.version?i.error("string.ipVersion",{value:r,cidr:c.cidr,version:c.version}):i.error("string.ip",{value:r,cidr:c.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(r,{error:i})=>o.isoDate(r)?r:i("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(r,i)=>o.isoDurationRegex.test(r)?r:i.error("string.isoDuration")},length:{method(r,i){return o.length(this,"length",r,"=",i)},validate(r,i,{limit:c,encoding:f},{name:d,operator:_,args:A}){const u=!f&&r.length;return e.compare(u,c,_)?r:i.error("string."+d,{limit:A.limit,value:r,encoding:f})},args:[{name:"limit",ref:!0,assert:e.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(r,i){return o.length(this,"max",r,"<=",i)},args:["limit","encoding"]},min:{method(r,i){return o.length(this,"min",r,">=",i)},args:["limit","encoding"]},normalize:{method(r="NFC"){return l(o.normalizationForms.includes(r),"normalization form must be one of "+o.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:r}})},validate:(r,{error:i},{form:c})=>r===r.normalize(c)?r:i("string.normalize",{value:r,form:c}),convert:!0},pattern:{alias:"regex",method(r,i={}){l(r instanceof RegExp,"regex must be a RegExp"),l(!r.flags.includes("g")&&!r.flags.includes("y"),"regex should not use global or sticky mode"),typeof i=="string"&&(i={name:i}),e.assertOptions(i,["invert","name"]);const c=["string.pattern",i.invert?".invert":"",i.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:r,options:i},errorCode:c})},validate:(r,i,{regex:c,options:f},{errorCode:d})=>c.test(r)^f.invert?r:i.error(d,{name:f.name,regex:c,value:r}),args:["regex","options"],multi:!0},replace:{method(r,i){typeof r=="string"&&(r=new RegExp(g(r),"g")),l(r instanceof RegExp,"pattern must be a RegExp"),l(typeof i=="string","replacement must be a String");const c=this.clone();return c.$_terms.replacements||(c.$_terms.replacements=[]),c.$_terms.replacements.push({pattern:r,replacement:i}),c}},token:{method(){return this.$_addRule("token")},validate:(r,i)=>/^\w+$/.test(r)?r:i.error("string.token")},trim:{method(r=!0){return l(typeof r=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:r}})},validate:(r,i,{enabled:c})=>c&&r!==r.trim()?i.error("string.trim"):r,convert:!0},truncate:{method(r=!0){return l(typeof r=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",r)}},uppercase:{method(){return this.case("upper")}},uri:{method(r={}){e.assertOptions(r,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),r.domain&&e.assertOptions(r.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:i,scheme:c}=a(r),f=r.domain?o.addressOptions(r.domain):null;return this.$_addRule({name:"uri",args:{options:r},regex:i,domain:f,scheme:c})},validate(r,i,{options:c},{regex:f,domain:d,scheme:_}){if(["http:/","https:/"].includes(r))return i.error("string.uri");let A=f.exec(r);if(!A&&i.prefs.convert&&c.encodeUri){const u=encodeURI(r);A=f.exec(u),A&&(r=u)}if(A){const u=A[1]||A[2];return!d||c.allowRelative&&!u||y(u,d)?r:i.error("string.domain",{value:u})}return c.relativeOnly?i.error("string.uriRelativeOnly"):c.scheme?i.error("string.uriCustomScheme",{scheme:_,value:r}):i.error("string.uri")}}},manifest:{build(r,i){if(i.replacements)for(const{pattern:c,replacement:f}of i.replacements)r=r.replace(c,f);return r}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),o.addressOptions=function(r){if(!r)return o.tlds||r;if(l(r.minDomainSegments===void 0||Number.isSafeInteger(r.minDomainSegments)&&r.minDomainSegments>0,"minDomainSegments must be a positive integer"),l(r.maxDomainSegments===void 0||Number.isSafeInteger(r.maxDomainSegments)&&r.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),r.tlds===!1)return r;if(r.tlds===!0||r.tlds===void 0)return l(o.tlds,"Built-in TLD list disabled"),Object.assign({},r,o.tlds);l(typeof r.tlds=="object","tlds must be true, false, or an object");const i=r.tlds.deny;if(i)return Array.isArray(i)&&(r=Object.assign({},r,{tlds:{deny:new Set(i)}})),l(r.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),l(!r.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),o.validateTlds(r.tlds.deny,"tlds.deny"),r;const c=r.tlds.allow;return c?c===!0?(l(o.tlds,"Built-in TLD list disabled"),Object.assign({},r,o.tlds)):(Array.isArray(c)&&(r=Object.assign({},r,{tlds:{allow:new Set(c)}})),l(r.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),o.validateTlds(r.tlds.allow,"tlds.allow"),r):{...r,tlds:!1}},o.validateTlds=function(r,i){for(const c of r)l(y(c,{minDomainSegments:1,maxDomainSegments:1}),`${i} must contain valid top level domain names`)},o.isoDate=function(r){if(!e.isIsoDate(r))return null;/.*T.*[+-]\d\d$/.test(r)&&(r+="00");const i=new Date(r);return isNaN(i.getTime())?null:i.toISOString()},o.length=function(r,i,c,f,d){return l(!d||!1,"Invalid encoding:",d),r.$_addRule({name:i,method:"length",args:{limit:c,encoding:d},operator:f})}},9145:w=>{const b={};w.exports=b.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=b.Bench.now()}elapsed(){return b.Bench.now()-this.ts}static now(){const m=process.hrtime();return 1e3*m[0]+m[1]/1e6}}},9241:(w,b,m)=>{const l=m(8253);w.exports=function(g){return l(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(g),"Bad attribute value ("+g+")"),g.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}},9315:(w,b,m)=>{const l=m(8253),g=m(4126),y=m(86),p={};w.exports=p.merge=function(s,a,n){if(l(s&&typeof s=="object","Invalid target value: must be an object"),l(a==null||typeof a=="object","Invalid source value: must be null, undefined, or an object"),!a)return s;if(n=Object.assign({nullOverride:!0,mergeArrays:!0},n),Array.isArray(a)){l(Array.isArray(s),"Cannot merge array onto an object"),n.mergeArrays||(s.length=0);for(let e=0;e<a.length;++e)s.push(g(a[e],{symbols:n.symbols}));return s}const t=y.keys(a,n);for(let e=0;e<t.length;++e){const o=t[e];if(o==="__proto__"||!Object.prototype.propertyIsEnumerable.call(a,o))continue;const r=a[o];if(r&&typeof r=="object"){if(s[o]===r)continue;!s[o]||typeof s[o]!="object"||Array.isArray(s[o])!==Array.isArray(r)||r instanceof Date||r instanceof RegExp?s[o]=g(r,{symbols:n.symbols}):p.merge(s[o],r,n)}else(r!=null||n.nullOverride)&&(s[o]=r)}return s}},9415:(w,b,m)=>{const{assert:l,AssertError:g}=m(3115),y=m(6913);let p,s;const a={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};b.version=y.version,b.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},b.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},b.assertOptions=function(n,t,e="Options"){l(n&&typeof n=="object"&&!Array.isArray(n),"Options must be of type object");const o=Object.keys(n).filter(r=>!t.includes(r));l(o.length===0,`${e} contain unknown keys: ${o}`)},b.checkPreferences=function(n){s=s||m(1688);const t=s.preferences.validate(n);if(t.error)throw new g([t.error.details[0].message])},b.compare=function(n,t,e){switch(e){case"=":return n===t;case">":return n>t;case"<":return n<t;case">=":return n>=t;case"<=":return n<=t}},b.default=function(n,t){return n===void 0?t:n},b.isIsoDate=function(n){return a.isoDate.test(n)},b.isNumber=function(n){return typeof n=="number"&&!isNaN(n)},b.isResolvable=function(n){return!!n&&(n[b.symbols.ref]||n[b.symbols.template])},b.isSchema=function(n,t={}){const e=n&&n[b.symbols.any];return!!e&&(l(t.legacy||e.version===b.version,"Cannot mix different versions of joi schemas"),!0)},b.isValues=function(n){return n[b.symbols.values]},b.limit=function(n){return Number.isSafeInteger(n)&&n>=0},b.preferences=function(n,t){p=p||m(6162),n=n||{},t=t||{};const e=Object.assign({},n,t);return t.errors&&n.errors&&(e.errors=Object.assign({},n.errors,t.errors),e.errors.wrap=Object.assign({},n.errors.wrap,t.errors.wrap)),t.messages&&(e.messages=p.compile(t.messages,n.messages)),delete e[b.symbols.prefs],e},b.tryWithPath=function(n,t,e={}){try{return n()}catch(o){throw o.path!==void 0?o.path=t+"."+o.path:o.path=t,e.append&&(o.message=`${o.message} (${o.path})`),o}},b.validateArg=function(n,t,{assert:e,message:o}){if(b.isSchema(e)){const r=e.validate(n);return r.error?r.error.message:void 0}if(!e(n))return t?`${t} ${o}`:o},b.verifyFlat=function(n,t){for(const e of n)l(!Array.isArray(e),"Method no longer accepts array arguments:",t)}},9556:(w,b,m)=>{const{assert:l}=m(3115),g=m(680),y=m(9415),p=m(3541),s=m(8013),a={};w.exports=g.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(n,t)=>n.ref(t),validate(n,{schema:t,state:e,prefs:o}){l(t.$_terms.link,"Uninitialized link schema");const r=a.generate(t,n,e,o),i=t.$_terms.link[0].ref;return r.$_validate(n,e.nest(r,`link:${i.display}:${r.type}`),o)},generate:(n,t,e,o)=>a.generate(n,t,e,o),rules:{ref:{method(n){l(!this.$_terms.link,"Cannot reinitialize schema"),n=p.ref(n),l(n.type==="value"||n.type==="local","Invalid reference type:",n.type),l(n.type==="local"||n.ancestor==="root"||n.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:n}],t}},relative:{method(n=!0){return this.$_setFlag("relative",n)}}},overrides:{concat(n){l(this.$_terms.link,"Uninitialized link schema"),l(y.isSchema(n),"Invalid schema object"),l(n.type!=="link","Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:n}),t.$_mutateRebuild()}},manifest:{build:(n,t)=>(l(t.link,"Invalid link description missing link"),n.ref(t.link))}}),a.generate=function(n,t,e,o){let r=e.mainstay.links.get(n);if(r)return r._generate(t,e,o).schema;const i=n.$_terms.link[0].ref,{perspective:c,path:f}=a.perspective(i,e);a.assert(c,"which is outside of schema boundaries",i,n,e,o);try{r=f.length?c.$_reach(f):c}catch{a.assert(!1,"to non-existing schema",i,n,e,o)}return a.assert(r.type!=="link","which is another link",i,n,e,o),n._flags.relative||e.mainstay.links.set(n,r),r._generate(t,e,o).schema},a.perspective=function(n,t){if(n.type==="local"){for(const{schema:e,key:o}of t.schemas){if((e._flags.id||o)===n.path[0])return{perspective:e,path:n.path.slice(1)};if(e.$_terms.shared){for(const r of e.$_terms.shared)if(r._flags.id===n.path[0])return{perspective:r,path:n.path.slice(1)}}}return{perspective:null,path:null}}return n.ancestor==="root"?{perspective:t.schemas[t.schemas.length-1].schema,path:n.path}:{perspective:t.schemas[n.ancestor]&&t.schemas[n.ancestor].schema,path:n.path}},a.assert=function(n,t,e,o,r,i){n||l(!1,`"${s.label(o._flags,r,i)}" contains link reference "${e.display}" ${t}`)}},9725:w=>{w.exports=function(){}}},L={};function T(w){var b=L[w];if(b!==void 0)return b.exports;var m=L[w]={exports:{}};return C[w](m,m.exports,T),m.exports}return T.n=w=>{var b=w&&w.__esModule?()=>w.default:()=>w;return T.d(b,{a:b}),b},T.d=(w,b)=>{for(var m in b)T.o(b,m)&&!T.o(w,m)&&Object.defineProperty(w,m,{enumerable:!0,get:b[m]})},T.o=(w,b)=>Object.prototype.hasOwnProperty.call(w,b),T.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},T(1100)})())})(Je)),Je.exports}var Fr=Ur();const Ze=Br(Fr);function Gr(x){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[@hcaptcha/vanilla-hcaptcha]: hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let S,C;window._hCaptchaOnLoadPromise=new Promise(((w,b)=>{S=w,C=b,window._hCaptchaOnLoad=S}));const L=(function(w){let b=w.jsapi;return b=he(b,"render","explicit"),b=he(b,"onload","_hCaptchaOnLoad"),b=he(b,"recaptchacompat",w.recaptchacompat==="false"?"off":void 0),b=he(b,"host",w.host),b=he(b,"hl",w.hl),b=he(b,"sentry",w.sentry==="false"?"false":"true"),b=he(b,"endpoint",w.endpoint),b=he(b,"assethost",w.assethost),b=he(b,"imghost",w.imghost),b=he(b,"reportapi",w.reportapi),b})(x),T=document.createElement("script");return T.src=L,T.async=!0,T.defer=!0,T.onerror=w=>{const b=`Failed to load hCaptcha JS API: "${L}"`;console.error(b,w),C(b)},document.head.appendChild(T),window._hCaptchaOnLoadPromise}}function he(x,S,C){if(C!=null){const L=x.includes("?")?"&":"?";return x+L+S+"="+encodeURIComponent(C)}return x}const nt="[@hcaptcha/vanilla-hcaptcha]:";class pe extends Error{constructor(S){super(`${nt}: ${S}`),Object.setPrototypeOf(this,pe.prototype)}}const be={notRendered:'hCaptcha was not yet rendered. Please call "render()" first.',apiNotLoaded:x=>`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${x}".`};class Hr extends HTMLElement{constructor(){super(...arguments),this.hcaptchaId=void 0,this.loadJsApiTimeout=void 0,this.jsApiLoaded=!1}connectedCallback(){this.tryLoadingJsApi()}disconnectedCallback(){this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout)}static get observedAttributes(){return["jsapi","host","endpoint","reportapi","assethost","imghost","hl","sentry","recaptchacompat"]}attributeChangedCallback(){this.tryLoadingJsApi()}isJsApiConfigValid(S){let C=!["jsapi","host","endpoint","reportapi","assethost","imghost"].some((L=>{var T;return S[L]&&!(!((T=S[L])===null||T===void 0)&&T.match(/^\w/))}));return S.hl&&!S.hl.match(/[\w-]+/)&&(C=!1),S.sentry&&["true","false"].indexOf(S.sentry)===-1&&(C=!1),S.recaptchacompat&&["true","false"].indexOf(S.recaptchacompat)===-1&&(C=!1),C}tryLoadingJsApi(){const S=this.getJsApiConfig();this.isJsApiConfigValid(S)&&(this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout),this.loadJsApiTimeout=setTimeout((()=>{this.jsApiLoaded&&console.error(`${nt} JS API attributes cannot change once hCaptcha JS API is loaded.`),this.jsApiLoaded=!0,Gr(S).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))}),1))}getAttr(S){return this.getAttribute(S)||void 0}getJsApiConfig(){return{host:this.getAttr("host"),hl:this.getAttr("hl"),sentry:this.getAttr("sentry"),recaptchacompat:this.getAttr("recaptchacompat"),jsapi:this.getAttr("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttr("endpoint"),reportapi:this.getAttr("reportapi"),assethost:this.getAttr("assethost"),imghost:this.getAttr("imghost")}}onApiLoaded(){this.onApiLoadedHandler(),this.$emit("loaded")}onApiLoadedHandler(){if(this.getAttr("auto-render")==="false")return;const S=this.getAttr("rqdata"),C=this.getAttr("tabindex"),L=this.getAttr("sitekey")||this.getAttr("site-key"),T=this.getAttr("challenge-container");if(!L)return;const w={sitekey:L,theme:this.getAttr("theme"),size:this.getAttr("size"),hl:this.getAttr("hl"),tplinks:this.getAttr("tplinks")==="off"?"off":"on",tabindex:C?parseInt(C):void 0,custom:this.getAttr("custom")==="true"};T&&(w["challenge-container"]=T),this.render(w),S&&this.setData(S)}onError(S){console.error(S),this.$emit("error",{error:S})}$emit(S,C){let L;typeof Event=="function"?L=new Event(S):(L=document.createEvent("Event"),L.initEvent(S,!1,!1)),C&&Object.assign(L,C),this.dispatchEvent(L)}render(S){if(!hcaptcha)throw new pe(be.apiNotLoaded("render"));this.hcaptchaId?console.warn(`${nt} hCaptcha was already rendered. You may want to call 'reset()' first.`):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},S),{callback:()=>{const C=hcaptcha.getResponse(this.hcaptchaId),L=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:C,eKey:L,key:C})},"expired-callback":()=>{this.$emit("expired")},"chalexpired-callback":()=>{this.$emit("challenge-expired")},"error-callback":this.onError.bind(this),"open-callback":()=>{this.$emit("opened")},"close-callback":()=>{this.$emit("closed")}}))}setData(S){if(!this.hcaptchaId)throw new pe(be.notRendered);hcaptcha.setData(this.hcaptchaId,{rqdata:S})}execute(){if(!hcaptcha)throw new pe(be.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new pe(be.notRendered);hcaptcha.execute(this.hcaptchaId)}executeAsync(){if(!hcaptcha)throw new pe(be.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new pe(be.notRendered);return hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){if(!hcaptcha)throw new pe(be.apiNotLoaded("reset"));if(!this.hcaptchaId)throw new pe(be.notRendered);hcaptcha.reset(this.hcaptchaId)}}customElements.define("h-captcha",Hr);var Xr=B('<span class="text-field__icon text-field__icon--position--left svelte-o02g58"><!></span>'),Kr=B('<span class="text-field__icon text-field__icon--position--right svelte-o02g58"><!></span>'),Wr=B("<div><!> <!> <!></div>");function Qe(x,S){const C=["text","password","email","number","search","tel","url","date","week","time","datetime-local","textarea"],L=Ae(S,"type",19,()=>C[0]),T=Ee(S,["$$slots","$$events","$$legacy","class","fieldClass","type","iconLeft","iconRight"]),w=Q(()=>{if(L()!=="textarea")return C.includes(L())?L():C[0]});var b=Wr();let m;var l=G(b);{var g=a=>{var n=Xr(),t=G(n);Me(t,()=>S.iconLeft),P(n),M(a,n)};se(l,a=>{S.iconLeft&&a(g)})}var y=F(l,2);We(y,()=>L()==="textarea"?"textarea":"input",!1,(a,n)=>{ue(a,t=>({class:["text-field__field",S.fieldClass],type:N(w),...T,[Ve]:t}),[()=>({"text-field__field--type--textarea":L()==="textarea"})],void 0,"svelte-o02g58")});var p=F(y,2);{var s=a=>{var n=Kr(),t=G(n);Me(t,()=>S.iconRight),P(n),M(a,n)};se(p,a=>{S.iconRight&&a(s)})}P(b),ie(a=>m=Oe(b,1,Xe(["text-field",S.class]),"svelte-o02g58",m,a),[()=>({"text-field--has-icon-left":S.iconLeft,"text-field--has-icon-right":S.iconRight})]),M(x,b)}var Vr=B("<i></i>"),Yr=B("<li><!></li>"),qr=B('<i class="hn hn-user-solid"></i>'),zr=B('<p class="form__input-error svelte-k3uean"><i class="hn hn-exclamation-triangle-solid"></i> </p>'),Jr=B('<i class="hn hn-envelope-solid"></i>'),Zr=B('<p class="form__input-error svelte-k3uean"><i class="hn hn-exclamation-triangle-solid"></i> </p>'),Qr=B('<p class="form__input-error svelte-k3uean"><i class="hn hn-exclamation-triangle-solid"></i> </p>'),es=B("<h-captcha></h-captcha>",2),ts=B("<div><i></i> <p> </p></div>"),rs=B('<i class="hn hn-spinner-solid form__submit-loading-icon svelte-k3uean"></i> Sending...',1),ss=B('Send Message <i class="hn hn-arrow-right-solid"></i>',1),ns=B('<section><div class="contact__inner svelte-k3uean"><div class="contact__info svelte-k3uean"><header class="header"><h2 class="header__title svelte-k3uean" id="contact-title">Keep in Touch</h2> <p class="header__subtitle">Follow my socials or send me a message to get to know me better.</p></header> <address class="socials svelte-k3uean"><ul class="socials__list svelte-k3uean"></ul></address></div> <form class="form contact__form svelte-k3uean" method="post"><div class="form__input form__input--field--name svelte-k3uean" title="Name"><label class="form__input-label svelte-k3uean" for="input-name">Name</label> <!> <!></div> <div class="form__input form__input--field--email svelte-k3uean" title="Email"><label class="form__input-label svelte-k3uean" for="input-email">Email <span class="form__input-label-required svelte-k3uean">(Required)</span></label> <!> <!></div> <div class="form__input form__input--field--message svelte-k3uean" title="Message"><label class="form__input-label svelte-k3uean" for="input-message">Message <span class="form__input-label-required svelte-k3uean">(Required)</span></label> <!> <!></div> <!> <!> <!></form></div></section>');function as(x,S){Ne(S,!0);const C=Ae(S,"navbarOffsetHeight",3,0),L=Ee(S,["$$slots","$$events","$$legacy","class","navbarOffsetHeight"]);let T=ee(void 0),w=Re({value:void 0,update:()=>{}});const b=[{name:"GitHub",icon:"github",url:"https://github.com/AlfayedDennita/"},{name:"Facebook",icon:"facebook-round",url:"http://facebook.com/alfayeddennita/"},{name:"Instagram",icon:"instagram",url:"http://instagram.com/alfayeddennita/"},{name:"LinkedIn",icon:"linkedin",url:"https://www.linkedin.com/in/AlfayedDennita/"}];let m=ee(void 0),l=ee(!1),g=ee(void 0),y=ee(void 0);const p=Re({name:void 0,email:!0,message:!0}),s=Q(()=>Object.values(p).some(O=>O));let a=ee(!1),n=Re({status:void 0,message:void 0});async function t(){z(a,!0);try{const O=new FormData(N(m)),$=await et.contact.insertOne({captchaToken:N(y),name:O.get("name"),email:O.get("email"),message:O.get("message")});$.success?(n.status="success",n.message="Message successfully sent.",N(m).reset(),N(g).reset(),z(y,null)):(n.status="failed",n.message=$.message||"Message failed to send, please try again later.")}catch{n.status="failed",n.message="Message failed to send, please try again later."}z(a,!1)}async function e(O){O.preventDefault(),N(y)?await t():(z(l,!0),N(g).execute())}async function o({token:O}){z(y,O,!0),N(l)&&await t(),z(l,!1)}async function r(){z(y,null),z(l,!1),n.status="failed",n.message="Captcha challenge was invalid."}At(()=>{N(g).addEventListener("verified",o),N(g).addEventListener("error",r),N(g).addEventListener("expired",r)}),jt(()=>{N(g).removeEventListener("verified",o),N(g).removeEventListener("error",r),N(g).removeEventListener("expired",r)});function i(){return w.value}function c(){return w.update}function f(){return N(T)}var d={getOffsetTop:i,getUpdateOffsetTop:c,getOffsetHeight:f},_=ns();ue(_,O=>({class:["contact",S.class],id:"contact","aria-labelledby":"contact-title",...L,[Pe]:O}),[()=>({"--navbar-offset-height":`${C()}px`})],void 0,"svelte-k3uean");var A=G(_),u=G(A),h=F(G(u),2),v=G(h);Ie(v,21,()=>b,O=>O.name,(O,$)=>{var j=Yr(),H=G(j);ke(H,{get href(){return N($).url},square:!0,target:"_blank",rel:"external",get title(){return N($).name},children:(K,U)=>{var V=Vr();ie(()=>Oe(V,1,Xe(["hn",`hn-${N($).icon}`]),"svelte-k3uean")),M(K,V)},$$slots:{default:!0}}),P(j),M(O,j)}),P(v),P(h),P(u);var E=F(u,2),R=G(E),I=F(G(R),2);{const O=j=>{var H=qr();M(j,H)};let $=Q(()=>![void 0,!0].includes(p.name));Qe(I,{type:"text",name:"name",id:"input-name",autocomplete:"name",get"aria-invalid"(){return N($)},oninput:j=>{n.status=void 0,n.message=void 0,p.name=Ze.string().max(256).allow("").label("Name").validate(j.target.value)?.error?.details[0]?.message},iconLeft:O,$$slots:{iconLeft:!0}})}var k=F(I,2);{var D=O=>{var $=zr(),j=F(G($));P($),ie(()=>Se(j,` ${p.name??""}.`)),xe(3,$,()=>Ce),M(O,$)};se(k,O=>{[void 0,!0].includes(p.name)||O(D)})}P(R);var X=F(R,2),Y=F(G(X),2);{const O=j=>{var H=Jr();M(j,H)};let $=Q(()=>![void 0,!0].includes(p.email));Qe(Y,{type:"email",name:"email",id:"input-email",autocomplete:"email",required:!0,get"aria-invalid"(){return N($)},oninput:j=>{n.status=void 0,n.message=void 0,p.email=Ze.string().email().max(256).label("Email").validate(j.target.value)?.error?.details[0]?.message},iconLeft:O,$$slots:{iconLeft:!0}})}var J=F(Y,2);{var re=O=>{var $=Zr(),j=F(G($));P($),ie(()=>Se(j,` ${p.email??""}.`)),xe(3,$,()=>Ce),M(O,$)};se(J,O=>{[void 0,!0].includes(p.email)||O(re)})}P(X);var q=F(X,2),Z=F(G(q),2);{let O=Q(()=>![void 0,!0].includes(p.message));Qe(Z,{fieldClass:"form__input-textarea",type:"textarea",name:"message",id:"input-message",required:!0,get"aria-invalid"(){return N(O)},oninput:$=>{n.status=void 0,n.message=void 0,p.message=Ze.string().max(5e3).label("Message").validate($.target.value)?.error?.details[0]?.message}})}var ae=F(Z,2);{var ce=O=>{var $=Qr(),j=F(G($));P($),ie(()=>Se(j,` ${p.message??""}.`)),xe(3,$,()=>Ce),M(O,$)};se(ae,O=>{[void 0,!0].includes(p.message)||O(ce)})}P(q);var fe=F(q,2);{var we=O=>{var $=es();Oe($,1,"form__captcha svelte-k3uean"),ie(()=>mt($,"site-key",Mt)),mt($,"recaptchacompat",!1),_e($,j=>z(g,j),()=>N(g)),M(O,$)};se(fe,O=>{O(we)})}var oe=F(fe,2);{var me=O=>{var $=ts();let j;var H=G($),K=F(H,2),U=G(K,!0);P(K),P($),ie(V=>{j=Oe($,1,"form__sending-response svelte-k3uean",null,j,V),Oe(H,1,Xe(["hn",`hn-${n.status==="success"?"check-circle-solid":"times-circle-solid"}`]),"svelte-k3uean"),Se(U,n.message)},[()=>({"form__sending-response--state--success":n.status==="success","form__sending-response--state--failed":n.status!=="success"})]),xe(3,$,()=>Ce),M(O,$)};se(oe,O=>{n.status&&O(me)})}var Be=F(oe,2);{let O=Q(()=>N(s)||N(a)),$=Q(()=>N(s)?void 0:"Send Message");ke(Be,{class:"form__submit",type:"submit",get disabled(){return N(O)},get title(){return N($)},children:(j,H)=>{var K=Le(),U=ve(K);{var V=te=>{var W=rs();ne(),M(te,W)},le=te=>{var W=ss();ne(),M(te,W)};se(U,te=>{N(a)?te(V):te(le,!1)})}M(j,K)},$$slots:{default:!0}})}return P(E),_e(E,O=>z(m,O),()=>N(m)),P(A),P(_),Ye(_,()=>qe(O=>w.value=O,O=>w.update=O)),Vt("submit",E,e),Ke(_,"offsetHeight",O=>z(T,O)),M(x,_),$e(d)}var is=B("<div></div>");function os(x,S){const C=Ee(S,["$$slots","$$events","$$legacy","class","contactOffsetHeight","footerOffsetHeight"]),L=Q(()=>`${S.contactOffsetHeight+S.footerOffsetHeight}px`||void 0);var T=is();ue(T,w=>({class:["footer-objects",S.class],"aria-hidden":"true",...C,[Pe]:w}),[()=>({height:N(L)})],void 0,"svelte-bvpxb2"),M(x,T)}var ls=B('<main class="main svelte-1uha8ag"><!> <!> <!> <!> <!> <!> <!></main>');function ws(x,S){Ne(S,!0),zt({additionalKeywords:["portfolio","projects","arts","contact"]});const C=pt("header-offset-height"),L=pt("footer-offset-height");let T=ee(void 0),w=ee(void 0),b=ee(void 0),m=ee(void 0),l=ee(void 0),g=ee(void 0);const y=Q(()=>[{name:"About",url:"/#about",offsetTop:N(b)?.getOffsetTop(),updateOffsetTop:N(b)?.getUpdateOffsetTop()},{name:"Projects",url:"/#projects",offsetTop:N(m)?.getOffsetTop(),updateOffsetTop:N(m)?.getUpdateOffsetTop()},{name:"Arts",url:"/#arts",offsetTop:N(l)?.getOffsetTop(),updateOffsetTop:N(l)?.getUpdateOffsetTop()},{name:"Contact",url:"/#contact",offsetTop:N(g)?.getOffsetTop(),updateOffsetTop:N(g)?.getUpdateOffsetTop()}]);At(async()=>{await Yt();for(const i of N(y))i.updateOffsetTop()});var p=ls(),s=G(p);{let i=Q(C);_e(ir(s,{get headerOffsetHeight(){return N(i)}}),c=>z(T,c,!0),()=>N(T))}var a=F(s,2);_e(mr(a,{get linkedSections(){return N(y)}}),i=>z(w,i,!0),()=>N(w));var n=F(a,2);{let i=Q(()=>N(w)?.getOffsetHeight());_e(vr(n,{get navbarOffsetHeight(){return N(i)}}),c=>z(b,c,!0),()=>N(b))}var t=F(n,2);{let i=Q(()=>N(T)?.getOffsetHeight()),c=Q(()=>N(w)?.getOffsetHeight());_e(Nr(t,{get projects(){return S.data.projects},get jumbotronOffsetHeight(){return N(i)},get navbarOffsetHeight(){return N(c)}}),f=>z(m,f,!0),()=>N(m))}var e=F(t,2);{let i=Q(()=>N(w)?.getOffsetHeight());_e(Pr(e,{get arts(){return S.data.arts},get navbarOffsetHeight(){return N(i)}}),c=>z(l,c,!0),()=>N(l))}var o=F(e,2);{let i=Q(()=>N(w)?.getOffsetHeight());_e(as(o,{class:"main__contact",get navbarOffsetHeight(){return N(i)}}),c=>z(g,c,!0),()=>N(g))}var r=F(o,2);{let i=Q(()=>N(g)?.getOffsetHeight()),c=Q(L);os(r,{get contactOffsetHeight(){return N(i)},get footerOffsetHeight(){return N(c)}})}P(p),M(x,p),$e()}export{ws as component,Es as universal};
